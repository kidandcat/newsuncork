parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({11:[function(require,module,exports) {
"use strict";function e(e,n){for(var t=[],r=[],o=arguments.length;o-- >2;)t.push(arguments[o]);for(;t.length;){var u=t.pop();if(u&&u.pop)for(o=u.length;o--;)t.push(u[o]);else null!=u&&!0!==u&&!1!==u&&r.push(u)}return"function"==typeof e?e(n||{},r):{nodeName:e,attributes:n||{},children:r,key:n&&n.key}}function n(e,n,t,r){var o,u=[].map,l=r&&r.children[0]||null,i=l&&function e(n){return{nodeName:n.nodeName.toLowerCase(),attributes:{},children:u.call(n.childNodes,function(n){return 3===n.nodeType?n.nodeValue:e(n)})}}(l),a=[],f=!0,c=p(e),s=function e(n,t,r){for(var o in r)"function"==typeof r[o]?function(e,o){r[e]=function(e){var u=o(e);return"function"==typeof u&&(u=u(g(n,c),r)),u&&u!==(t=g(n,c))&&!u.then&&h(c=m(n,p(t,u),c)),u}}(o,r[o]):e(n.concat(o),t[o]=p(t[o]),r[o]=p(r[o]));return r}([],c,p(n));return h(),s;function v(e){return"function"==typeof e?v(e(c,s)):null!=e?e:""}function d(){o=!o;var e=v(t);for(r&&!o&&(l=function e(n,t,r,o,u){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var l=function e(n,t){var r="string"==typeof n||"number"==typeof n?document.createTextNode(n):(t=t||"svg"===n.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",n.nodeName):document.createElement(n.nodeName);var o=n.attributes;if(o){o.oncreate&&a.push(function(){o.oncreate(r)});for(var u=0;u<n.children.length;u++)r.appendChild(e(n.children[u]=v(n.children[u]),t));for(var l in o)b(r,l,o[l],null,t)}return r}(o,u);n.insertBefore(l,t),null!=r&&k(n,t,r),t=l}else if(null==r.nodeName)t.nodeValue=o;else{!function(e,n,t,r){for(var o in p(n,t))t[o]!==("value"===o||"checked"===o?e[o]:n[o])&&b(e,o,t[o],n[o],r);var u=f?t.oncreate:t.onupdate;u&&a.push(function(){u(e,n)})}(t,r.attributes,o.attributes,u=u||"svg"===o.nodeName);for(var i={},c={},s=[],d=r.children,h=o.children,m=0;m<d.length;m++){s[m]=t.childNodes[m];var g=y(d[m]);null!=g&&(i[g]=[s[m],d[m]])}for(var m=0,N=0;N<h.length;){var g=y(d[m]),w=y(h[N]=v(h[N]));if(c[g])m++;else if(null==w||f)null==g&&(e(t,s[m],d[m],h[N],u),N++),m++;else{var x=i[w]||[];g===w?(e(t,x[0],x[1],h[N],u),m++):x[0]?e(t,t.insertBefore(x[0],s[m]),x[1],h[N],u):e(t,s[m],null,h[N],u),c[w]=h[N],N++}}for(;m<d.length;)null==y(d[m])&&k(t,s[m],d[m]),m++;for(var m in i)c[m]||k(t,i[m][0],i[m][1])}return t}(r,l,i,i=e)),f=!1;a.length;)a.pop()()}function h(){o||(o=!0,setTimeout(d))}function p(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function m(e,n,t){var r={};return e.length?(r[e[0]]=e.length>1?m(e.slice(1),n,t[e[0]]):n,p(t,r)):n}function g(e,n){for(var t=0;t<e.length;)n=n[e[t++]];return n}function y(e){return e?e.key:null}function N(e){return e.currentTarget.events[e.type](e)}function b(e,n,t,r,o){if("key"===n);else if("style"===n)for(var u in p(r,t)){var l=null==t||null==t[u]?"":t[u];"-"===u[0]?e[n].setProperty(u,l):e[n][u]=l}else"o"===n[0]&&"n"===n[1]?(n=n.slice(2),e.events?r||(r=e.events[n]):e.events={},e.events[n]=t,t?r||e.addEventListener(n,N):e.removeEventListener(n,N)):n in e&&"list"!==n&&!o?e[n]=null==t?"":t:null!=t&&!1!==t&&e.setAttribute(n,t),null!=t&&!1!==t||e.removeAttribute(n)}function k(e,n,t){function r(){e.removeChild(function e(n,t){var r=t.attributes;if(r){for(var o=0;o<t.children.length;o++)e(n.childNodes[o],t.children[o]);r.ondestroy&&r.ondestroy(n)}return n}(n,t))}var o=t.attributes&&t.attributes.onremove;o?o(n,r):r()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.h=e,exports.app=n;
},{}],15:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Link=n;var t=require("hyperapp");function e(t){return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")}function r(t){return e(location)!==e(t)}function n(e,n){return function(o,a){var u=e.to,c=o.location,i=e.onclick;return delete e.to,delete e.location,e.href=u,e.onclick=function(t){i&&i(t),t.defaultPrevented||0!==t.button||t.altKey||t.metaKey||t.ctrlKey||t.shiftKey||"_blank"===e.target||r(t.currentTarget)||(t.preventDefault(),u!==c.pathname&&history.pushState(c.pathname,"",u))},(0,t.h)("a",e,n)}}
},{"hyperapp":11}],25:[function(require,module,exports) {
"use strict";function e(e,t,r,n){return{isExact:e,path:t,url:r,params:n}}function t(e){for(var t=e.length;"/"===e[--t];);return e.slice(0,t+1)}function r(e){try{return decodeURIComponent(e)}catch(t){return e}}function n(n,i,u){if(n===i||!n)return e(n===i,n,i);var l=u&&u.exact,c=t(n).split("/"),o=t(i).split("/");if(!(c.length>o.length||l&&c.length<o.length)){var s=0,a={},f=c.length;for(i="";s<f;s++){if(":"===c[s][0])a[c[s].slice(1)]=o[s]=r(o[s]);else if(c[s]!==o[s])return;i+=o[s]+"/"}return e(!1,n,i.slice(0,-1),a)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseRoute=n;
},{}],16:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Route=t;var e=require("./parseRoute");function t(t){return function(r,a){var o=r.location,n=(0,e.parseRoute)(t.path,o.pathname,{exact:!t.parent});return n&&t.render({match:n,location:o})}}
},{"./parseRoute":25}],17:[function(require,module,exports) {
"use strict";function e(e,t){return function(e,r){for(var n,o=0;!(n=t[o]&&t[o](e,r))&&o<t.length;)o++;return n}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Switch=e;
},{}],18:[function(require,module,exports) {
"use strict";function e(e){return function(t,r){var o=t.location;history.replaceState(e.from||o.pathname,"",e.to)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Redirect=e;
},{}],19:[function(require,module,exports) {
"use strict";function t(t){return t.reduce(function(t,e){var n=history[e];return history[e]=function(t,e,o){n.call(this,t,e,o),dispatchEvent(new CustomEvent("pushstate",{detail:t}))},function(){history[e]=n,t&&t()}},null)}Object.defineProperty(exports,"__esModule",{value:!0});var e=exports.location={state:{pathname:window.location.pathname,previous:window.location.pathname},actions:{go:function(t){history.pushState(null,"",t)},set:function(t){return t}},subscribe:function(e){function n(t){e.set({pathname:window.location.pathname,previous:t.detail?window.location.previous=t.detail:window.location.previous})}var o=t(["pushState","replaceState"]);return addEventListener("pushstate",n),addEventListener("popstate",n),function(){removeEventListener("pushstate",n),removeEventListener("popstate",n),o()}}};
},{}],12:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Link");Object.defineProperty(exports,"Link",{enumerable:!0,get:function(){return e.Link}});var r=require("./Route");Object.defineProperty(exports,"Route",{enumerable:!0,get:function(){return r.Route}});var t=require("./Switch");Object.defineProperty(exports,"Switch",{enumerable:!0,get:function(){return t.Switch}});var n=require("./Redirect");Object.defineProperty(exports,"Redirect",{enumerable:!0,get:function(){return n.Redirect}});var i=require("./location");Object.defineProperty(exports,"location",{enumerable:!0,get:function(){return i.location}});
},{"./Link":15,"./Route":16,"./Switch":17,"./Redirect":18,"./location":19}],75:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=void 0;var a=require("hyperapp"),n=require("@hyperapp/router"),r=exports.Header=function(){return function(n,r){return(0,a.h)("div",{oncreate:function(){return window.UIkit.sticky(document.querySelector("#navbar"),{selTarget:"#navbar",clsActive:"uk-navbar-sticky"})}},(0,a.h)("nav",{id:"navbar","uk-navbar":!0,class:"navbar uk-navbar-container uk-navbar-transparent"},(0,a.h)("div",{class:"uk-navbar-left"},(0,a.h)("ul",{class:"uk-navbar-nav"},(0,a.h)("li",{class:"uk-active"},(0,a.h)("div",{class:"menu-icon",onclick:function(){return UIkit.offcanvas(document.querySelector("#side-menu"),{container:!1}).show()}},(0,a.h)("span",{"uk-icon":"icon: menu; ratio: 1.5"}))))),(0,a.h)("div",{class:"uk-navbar-center"},(0,a.h)("ul",{class:"uk-navbar-nav"},(0,a.h)("li",{class:"uk-active"},(0,a.h)("a",null,(0,a.h)("img",{onclick:function(){r.location.go("/")},class:"logo",src:"/assets/logo.png",alt:"logo"}))))),(0,a.h)("div",{class:"uk-navbar-right"},(0,a.h)("ul",{class:"uk-navbar-nav"},(0,a.h)("li",{class:"uk-active cart"},(0,a.h)("a",{class:"cart-link",href:"/cart"},(0,a.h)("span",{"uk-icon":"icon: cart; ratio: 1.5"})))))))}};
},{"hyperapp":11,"@hyperapp/router":12}],76:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Footer=void 0;var e=require("hyperapp"),s=exports.Footer=function(){return function(s,t){return(0,e.h)("div",{class:"footer"},(0,e.h)("div",{class:"uk-container uk-text-center"},(0,e.h)("ul",{"uk-margin":"",class:"uk-width-1-1 uk-subnav uk-flex-inline uk-flex-center uk-margin-remove-bottom"},(0,e.h)("li",{class:"uk-width-1-1@s uk-width-1-4@m"},(0,e.h)("a",{href:"mailto:info@suncork.net"},(0,e.h)("span",{class:"six"},"info@suncork.net"))),(0,e.h)("li",{class:"uk-width-1-1@s uk-width-1-2@m"},(0,e.h)("span",{class:"seven"},"Â© 2018 ",(0,e.h)("span",{class:"one"},"SUNCORK")," All Rights Reserved")),(0,e.h)("li",{class:"uk-width-1-1@s uk-width-1-4@m"},(0,e.h)("a",{href:"mailto:kidandcat@gmail.com"},(0,e.h)("span",{class:"six"},"Developed by kidandcat"))))))}};
},{"hyperapp":11}],95:[function(require,module,exports) {
var global = (1,eval)("this");
var t=(0,eval)("this"),e={scope:{}};e.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},e.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==t&&null!=t?t:e},e.global=e.getGlobal(this),e.SYMBOL_PREFIX="jscomp_symbol_",e.initSymbol=function(){e.initSymbol=function(){},e.global.Symbol||(e.global.Symbol=e.Symbol)},e.symbolCounter_=0,e.Symbol=function(t){return e.SYMBOL_PREFIX+(t||"")+e.symbolCounter_++},e.initSymbolIterator=function(){e.initSymbol();var t=e.global.Symbol.iterator;t||(t=e.global.Symbol.iterator=e.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&e.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return e.arrayIterator(this)}}),e.initSymbolIterator=function(){}},e.arrayIterator=function(t){var r=0;return e.iteratorPrototype(function(){return r<t.length?{done:!1,value:t[r++]}:{done:!0}})},e.iteratorPrototype=function(t){return e.initSymbolIterator(),(t={next:t})[e.global.Symbol.iterator]=function(){return this},t},e.array=e.array||{},e.iteratorFromArray=function(t,r){e.initSymbolIterator(),t instanceof String&&(t+="");var n=0,o={next:function(){if(n<t.length){var e=n++;return{value:r(e,t[e]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return o[Symbol.iterator]=function(){return o},o},e.polyfill=function(t,r,n,o){if(r){for(n=e.global,t=t.split("."),o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(r=r(o=n[t=t[t.length-1]]))!=o&&null!=r&&e.defineProperty(n,t,{configurable:!0,writable:!0,value:r})}},e.polyfill("Array.prototype.keys",function(t){return t||function(){return e.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var r=this;!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.anime=e()}(this,function(){function t(t){if(!F.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var r=t.length,n=2<=arguments.length?arguments[1]:void 0,o=[],a=0;a<r;a++)if(a in t){var i=t[a];e.call(n,i,a,t)&&o.push(i)}return o}function n(t){return t.reduce(function(t,e){return t.concat(F.arr(e)?n(e):e)},[])}function o(e){return F.arr(e)?e:(F.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function a(t,e){return t.some(function(t){return t===e})}function i(t){var e,r={};for(e in t)r[e]=t[e];return r}function u(t,e){var r,n=i(t);for(r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function s(t,e){var r,n=i(t);for(r in e)n[r]=F.und(t[r])?e[r]:t[r];return n}function c(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function f(t,e){return F.fnc(t)?t(e.target,e.id,e.total):t}function l(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function d(t,e){return F.dom(t)&&a(k,e)?"transform":F.dom(t)&&(t.getAttribute(e)||F.svg(t)&&t[e])?"attribute":F.dom(t)&&"transform"!==e&&l(t,e)?"css":null!=t[e]?"object":void 0}function p(t,r){switch(d(t,r)){case"transform":return function(t,r){var n=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(r);if(n=-1<r.indexOf("scale")?1:0+n,!(t=t.style.transform))return n;for(var o=[],a=[],i=[],u=/(\w+)\((.+?)\)/g;o=u.exec(t);)a.push(o[1]),i.push(o[2]);return(t=e(i,function(t,e){return a[e]===r})).length?t[0]:n}(t,r);case"css":return l(t,r);case"attribute":return t.getAttribute(r)}return t[r]||0}function g(t,e){var r=/^(\*=|\+=|-=)/.exec(t);if(!r)return t;var n=c(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(r[0],"")),r[0][0]){case"+":return e+t+n;case"-":return e-t+n;case"*":return e*t+n}}function m(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function y(t){t=t.points;for(var e,r=0,n=0;n<t.numberOfItems;n++){var o=t.getItem(n);0<n&&(r+=m(e,o)),e=o}return r}function h(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return m({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return y(t);case"polygon":var e=t.points;return y(t)+m(e.getItem(e.numberOfItems-1),e.getItem(0))}}function v(t,e){function r(r){return r=void 0===r?0:r,t.el.getPointAtLength(1<=e+r?e+r:0)}var n=r(),o=r(-1),a=r(1);switch(t.property){case"x":return n.x;case"y":return n.y;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function b(t,e){var r,n=/-?\d*\.?\d+/g;if(r=F.pth(t)?t.totalLength:t,F.col(r))if(F.rgb(r)){var o=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(r);r=o?"rgba("+o[1]+",1)":r}else r=F.hex(r)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,r,n){return e+e+r+r+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(r):F.hsl(r)?function(t){function e(t,e,r){return 0>r&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:.5>r?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(r[1])/360;var n=parseInt(r[2])/100,o=parseInt(r[3])/100;if(r=r[4]||1,0==n)o=n=t=o;else{var a=.5>o?o*(1+n):o+n-o*n,i=2*o-a;o=e(i,a,t+1/3),n=e(i,a,t),t=e(i,a,t-1/3)}return"rgba("+255*o+","+255*n+","+255*t+","+r+")"}(r):void 0;else o=(o=c(r))?r.substr(0,r.length-o.length):r,r=e&&!/\s/g.test(r)?o+e:o;return{original:r+="",numbers:r.match(n)?r.match(n).map(Number):[0],strings:F.str(t)||e?r.split(n):[]}}function x(t){return e(t=t?n(F.arr(t)?t.map(o):o(t)):[],function(t,e,r){return r.indexOf(t)===e})}function w(t,e){var r=i(e);if(F.arr(t)){var n=t.length;2!==n||F.obj(t[0])?F.fnc(e.duration)||(r.duration=e.duration/n):t={value:t}}return o(t).map(function(t,r){return r=r?0:e.delay,t=F.obj(t)&&!F.pth(t)?t:{value:t},F.und(t.delay)&&(t.delay=r),t}).map(function(t){return s(t,r)})}function A(t,e){var r;return t.tweens.map(function(n){var o=(n=function(t,e){var r,n={};for(r in t){var o=f(t[r],e);F.arr(o)&&1===(o=o.map(function(t){return f(t,e)})).length&&(o=o[0]),n[r]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,e)).value,a=p(e.target,t.name),i=r?r.to.original:a,u=(i=F.arr(o)?o[0]:i,g(F.arr(o)?o[1]:o,i));a=c(u)||c(i)||c(a);return n.from=b(i,a),n.to=b(u,a),n.start=r?r.end:t.offset,n.end=n.start+n.delay+n.duration,n.easing=function(t){return F.arr(t)?L.apply(this,t):C[t]}(n.easing),n.elasticity=(1e3-Math.min(Math.max(n.elasticity,1),999))/1e3,n.isPath=F.pth(o),n.isColor=F.col(n.from.original),n.isColor&&(n.round=1),r=n})}function I(t,e,r,n){var o="delay"===t;return e.length?(o?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):o?n.delay:r.offset+n.delay+n.duration}function M(t){var r,o=u(P,t),a=u(j,t),i=function(t){var e=x(t);return e.map(function(t,r){return{target:t,id:r,total:e.length}})}(t.targets),c=[],f=s(o,a);for(r in t)f.hasOwnProperty(r)||"targets"===r||c.push({name:r,offset:f.offset,tweens:w(t[r],a)});return t=function(t,r){return e(n(t.map(function(t){return r.map(function(e){var r=d(t.target,e.name);if(r){var n=A(e,t);e={type:r,property:e.name,animatable:t,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else e=void 0;return e})})),function(t){return!F.und(t)})}(i,c),s(o,{children:[],animatables:i,animations:t,duration:I("duration",t,o,a),delay:I("delay",t,o,a)})}function S(t){function r(){return window.Promise&&new Promise(function(t){return d=t})}function n(t){return g.reversed?g.duration-t:t}function o(t){for(var r=0,n={},o=g.animations,a=o.length;r<a;){var i=o[r],u=i.animatable,s=(c=i.tweens)[p=c.length-1];p&&(s=e(c,function(e){return t<e.end})[0]||s);for(var c=Math.min(Math.max(t-s.start-s.delay,0),s.duration)/s.duration,f=isNaN(c)?1:s.easing(c,s.elasticity),d=(c=s.to.strings,s.round),p=[],m=void 0,y=(m=s.to.numbers.length,0);y<m;y++){var h=void 0,b=(h=s.to.numbers[y],s.from.numbers[y]);h=s.isPath?v(s.value,f*h):b+f*(h-b);d&&(s.isColor&&2<y||(h=Math.round(h*d)/d)),p.push(h)}if(s=c.length)for(m=c[0],f=0;f<s;f++)d=c[f+1],y=p[f],isNaN(y)||(m=d?m+(y+d):m+(y+" "));else m=p[0];E[i.type](u.target,i.property,m,n,u.id),i.currentValue=m,r++}if(r=Object.keys(n).length)for(o=0;o<r;o++)O||(O=l(document.body,"transform")?"transform":"-webkit-transform"),g.animatables[o].target.style[O]=n[o].join(" ");g.currentTime=t,g.progress=t/g.duration*100}function a(t){g[t]&&g[t](g)}function i(){g.remaining&&!0!==g.remaining&&g.remaining--}function u(t){var e=g.duration,u=g.offset,l=u+g.delay,m=g.currentTime,y=g.reversed,h=n(t);if(g.children.length){var v=g.children,b=v.length;if(h>=g.currentTime)for(var x=0;x<b;x++)v[x].seek(h);else for(;b--;)v[b].seek(h)}(h>=l||!e)&&(g.began||(g.began=!0,a("begin")),a("run")),h>u&&h<e?o(h):(h<=u&&0!==m&&(o(0),y&&i()),(h>=e&&m!==e||!e)&&(o(e),y||i())),a("update"),t>=e&&(g.remaining?(c=s,"alternate"===g.direction&&(g.reversed=!g.reversed)):(g.pause(),g.completed||(g.completed=!0,a("complete"),"Promise"in window&&(d(),p=r()))),f=0)}t=void 0===t?{}:t;var s,c,f=0,d=null,p=r(),g=M(t);return g.reset=function(){var t=g.direction,e=g.loop;for(g.currentTime=0,g.progress=0,g.paused=!0,g.began=!1,g.completed=!1,g.reversed="reverse"===t,g.remaining="alternate"===t&&1===e?2:e,o(0),t=g.children.length;t--;)g.children[t].reset()},g.tick=function(t){s=t,c||(c=s),u((f+s-c)*S.speed)},g.seek=function(t){u(n(t))},g.pause=function(){var t=T.indexOf(g);-1<t&&T.splice(t,1),g.paused=!0},g.play=function(){g.paused&&(g.paused=!1,c=0,f=n(g.currentTime),T.push(g),N||$())},g.reverse=function(){g.reversed=!g.reversed,c=0,f=n(g.currentTime)},g.restart=function(){g.pause(),g.reset(),g.play()},g.finished=p,g.reset(),g.autoplay&&g.play(),g}var O,P={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},j={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},k="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),F={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return F.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||F.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return F.hex(t)||F.rgb(t)||F.hsl(t)}},L=function(){function t(t,e,r){return(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t}return function(e,r,n,o){if(0<=e&&1>=e&&0<=n&&1>=n){var a=new Float32Array(11);if(e!==r||n!==o)for(var i=0;11>i;++i)a[i]=t(.1*i,e,n);return function(i){if(e===r&&n===o)return i;if(0===i)return 0;if(1===i)return 1;for(var u=0,s=1;10!==s&&a[s]<=i;++s)u+=.1;s=u+(i-a[--s])/(a[s+1]-a[s])*.1;var c=3*(1-3*n+3*e)*s*s+2*(3*n-6*e)*s+3*e;if(.001<=c){for(u=0;4>u&&0!==(c=3*(1-3*n+3*e)*s*s+2*(3*n-6*e)*s+3*e);++u){var f=t(s,e,n)-i;s=s-f/c}i=s}else if(0===c)i=s;else{s=u,u=u+.1;var l=0;do{0<(c=t(f=s+(u-s)/2,e,n)-i)?u=f:s=f}while(1e-7<Math.abs(c)&&10>++l);i=f}return t(i,r,o)}}}}(),C=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),o={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,r){return 1-t(1-e,r)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,r){return.5>e?t(2*e,r)/2:1-t(-2*e+2,r)/2}]},a={linear:L(.25,.25,.75,.75)},i={};for(e in o)i.type=e,o[i.type].forEach(function(t){return function(e,o){a["ease"+t.type+n[o]]=F.fnc(e)?e:L.apply(r,e)}}(i)),i={type:i.type};return a}(),E={css:function(t,e,r){return t.style[e]=r},attribute:function(t,e,r){return t.setAttribute(e,r)},object:function(t,e,r){return t[e]=r},transform:function(t,e,r,n,o){n[o]||(n[o]=[]),n[o].push(e+"("+r+")")}},T=[],N=0,$=function(){function t(){N=requestAnimationFrame(e)}function e(e){var r=T.length;if(r){for(var n=0;n<r;)T[n]&&T[n].tick(e),n++;t()}else cancelAnimationFrame(N),N=0}return t}();return S.version="2.2.0",S.speed=1,S.running=T,S.remove=function(t){t=x(t);for(var e=T.length;e--;)for(var r=T[e],n=r.animations,o=n.length;o--;)a(t,n[o].animatable.target)&&(n.splice(o,1),n.length||r.pause())},S.getValue=p,S.path=function(e,r){var n=F.str(e)?t(e)[0]:e,o=r||100;return function(t){return{el:n,property:t,totalLength:h(n)*(o/100)}}},S.setDashoffset=function(t){var e=h(t);return t.setAttribute("stroke-dasharray",e),e},S.bezier=L,S.easings=C,S.timeline=function(t){var e=S(t);return e.pause(),e.duration=0,e.add=function(r){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),o(r).forEach(function(r){var n=s(r,u(j,t||{}));n.targets=n.targets||t.targets,r=e.duration;var o=n.offset;n.autoplay=!1,n.direction=e.direction,n.offset=F.und(o)?r:g(o,r),e.began=!0,e.completed=!0,e.seek(n.offset),(n=S(n)).began=!0,n.completed=!0,n.duration>r&&(e.duration=n.duration),e.children.push(n)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},S.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},S});
},{}],77:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProductInfo=void 0;var e=require("hyperapp"),t=require("animejs"),a=i(t);function i(e){return e&&e.__esModule?e:{default:e}}var r=exports.ProductInfo=function(t){var i=t.match;return function(t,r){return t.activeProduct&&t.activeProduct.id===i.params.productID?(0,e.h)("div",{class:"uk-flex"},(0,e.h)("div",{class:"image-viewer uk-width-3-4"},(0,e.h)("div",{class:"image-array"},t.activeProduct.images.map(function(t,i){return(0,e.h)("img",{src:t,onclick:function(){(0,a.default)({targets:"#activeImage",opacity:[1,0],duration:250,easing:"linear",complete:function(){r.setActiveImage(i),(0,a.default)({targets:"#activeImage",opacity:[0,1],duration:250,easing:"linear"})}})},alt:"small product image"})})),(0,e.h)("div",{class:"uk-margin-auto"},(0,e.h)("img",{id:"activeImage",class:"uk-margin-auto",src:t.activeProduct.images[t.activeImage],alt:"big product image"}))),(0,e.h)("div",{class:"product-info"},(0,e.h)("h2",null,t.activeProduct.name),(0,e.h)("p",null,t.activeProduct.description))):(r.setActiveProduct(i.params.productID),(0,e.h)("div",null))}};
},{"hyperapp":11,"animejs":95}],93:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SmallProduct=void 0;var r=require("hyperapp"),e=exports.SmallProduct=function(e,a){var t=e.click;return(0,r.h)("div",{class:"uk-card uk-card-default uk-card-hover uk-card-body",style:{cursor:"pointer",margin:"20px",marginTop:"20px",maxHeight:"300px",maxWidth:"300px"},onclick:t},a)};
},{"hyperapp":11}],78:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProductIndex=void 0;var r=require("hyperapp"),e=require("@hyperapp/router"),u=require("/src/components/SmallProduct"),t=exports.ProductIndex=function(){return function(e,t){return(0,r.h)("div",null,(0,r.h)("div",null,(0,r.h)("div",{"uk-grid":!0,class:"uk-grid-medium uk-grid-match uk-flex-center"},e.products.map(function(e){return(0,r.h)(u.SmallProduct,{click:function(){return t.location.go("/product/"+e.id)}},(0,r.h)("img",{src:e.images[0],alt:e.name}))}))))}};
},{"hyperapp":11,"@hyperapp/router":12,"/src/components/SmallProduct":93}],101:[function(require,module,exports) {
!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,o,i,r,a,l,s,c,d,h,u,p,f,g,v,m,_,b,D,y={},w=/\s+/g,T=/left|right|inline/,C="Sortable"+(new Date).getTime(),S=window,E=S.document,x=S.parseInt,N=S.setTimeout,k=S.jQuery||S.Zepto,B=S.Polymer,P=!1,Y="draggable"in E.createElement("div"),X=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((D=E.createElement("x")).style.cssText="pointer-events:auto","auto"===D.style.pointerEvents),O=!1,I=Math.abs,R=Math.min,A=[],M=[],L=ot(function(t,e,n){if(n&&e.scroll){var o,i,r,a,d,h,u=n[C],p=e.scrollSensitivity,f=e.scrollSpeed,g=t.clientX,v=t.clientY,m=window.innerWidth,_=window.innerHeight;if(s!==n&&(l=e.scroll,s=n,c=e.scrollFn,!0===l)){l=n;do{if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight)break}while(l=l.parentNode)}l&&(o=l,i=l.getBoundingClientRect(),r=(I(i.right-g)<=p)-(I(i.left-g)<=p),a=(I(i.bottom-v)<=p)-(I(i.top-v)<=p)),r||a||(a=(_-v<=p)-(v<=p),((r=(m-g<=p)-(g<=p))||a)&&(o=S)),y.vx===r&&y.vy===a&&y.el===o||(y.el=o,y.vx=r,y.vy=a,clearInterval(y.pid),o&&(y.pid=setInterval(function(){if(h=a?a*f:0,d=r?r*f:0,"function"==typeof c)return c.call(u,d,h,t);o===S?S.scrollTo(S.pageXOffset+d,S.pageYOffset+h):(o.scrollTop+=h,o.scrollLeft+=d)},24)))}},30),F=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=n.name),"function"==typeof t?t:function(n,o){var i=o.options.group.name;return e?t:t&&(t.join?t.indexOf(i)>-1:i==t)}}var n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){P={capture:!1,passive:!1}}}))}catch(t){}function U(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=it({},e),t[C]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==U.supportPointer};for(var o in n)!(o in e)&&(e[o]=n[o]);for(var i in F(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&Y,V(t,"mousedown",this._onTapStart),V(t,"touchstart",this._onTapStart),e.supportPointer&&V(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(V(t,"dragover",this),V(t,"dragenter",this)),M.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function j(e,n){"clone"!==e.lastPullMode&&(n=!0),o&&o.state!==n&&(G(o,"display",n?"none":""),n||o.state&&(e.options.group.revertClone?(i.insertBefore(o,r),e._animate(t,o)):i.insertBefore(o,t)),o.state=n)}function H(t,e,n){if(t){n=n||E;do{if(">*"===e&&t.parentNode===n||nt(t,e))return t}while(t=W(t))}return null}function W(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function V(t,e,n){t.addEventListener(e,n,P)}function q(t,e,n){t.removeEventListener(e,n,P)}function z(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(w," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(w," ")}}function G(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return E.defaultView&&E.defaultView.getComputedStyle?n=E.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function Q(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function Z(t,e,n,i,r,a,l,s){t=t||e[C];var c=E.createEvent("Event"),d=t.options,h="on"+n.charAt(0).toUpperCase()+n.substr(1);c.initEvent(n,!0,!0),c.to=r||e,c.from=a||e,c.item=i||e,c.clone=o,c.oldIndex=l,c.newIndex=s,e.dispatchEvent(c),d[h]&&d[h].call(t,c)}function J(t,e,n,o,i,r,a,l){var s,c,d=t[C],h=d.options.onMove;return(s=E.createEvent("Event")).initEvent("move",!0,!0),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||e.getBoundingClientRect(),s.willInsertAfter=l,t.dispatchEvent(s),h&&(c=h.call(d,s,a)),c}function K(t){t.draggable=!1}function $(){O=!1}function tt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function et(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!nt(t,e)||n++;return n}function nt(t,e){if(t){var n=(e=e.split(".")).shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(o)||[]).length!=e.length)}return!1}function ot(t,e){var n,o;return function(){void 0===n&&(n=arguments,o=this,N(function(){1===n.length?t.call(o,n[0]):t.apply(o,n),n=void 0},e))}}function it(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function rt(t){return B&&B.dom?B.dom(t).cloneNode(!0):k?k(t).clone(!0)[0]:t.cloneNode(!0)}function at(t){return N(t,0)}function lt(t){return clearTimeout(t)}return U.prototype={constructor:U,_onTapStart:function(e){var n,o=this,i=this.el,r=this.options,l=r.preventOnFilter,s=e.type,c=e.touches&&e.touches[0],d=(c||e).target,h=e.target.shadowRoot&&e.path&&e.path[0]||d,u=r.filter;if(function(t){var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var o=e[n];o.checked&&A.push(o)}}(i),!t&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||r.disabled)&&!h.isContentEditable&&(d=H(d,r.draggable,i))&&a!==d){if(n=et(d,r.draggable),"function"==typeof u){if(u.call(this,e,d,this))return Z(o,h,"filter",d,i,i,n),void(l&&e.preventDefault())}else if(u&&(u=u.split(",").some(function(t){if(t=H(h,t.trim(),i))return Z(o,t,"filter",d,i,i,n),!0})))return void(l&&e.preventDefault());r.handle&&!H(h,r.handle,i)||this._prepareDragStart(e,c,d,n)}},_prepareDragStart:function(n,o,l,s){var c,d=this,h=d.el,u=d.options,f=h.ownerDocument;l&&!t&&l.parentNode===h&&(m=n,i=h,e=(t=l).parentNode,r=t.nextSibling,a=l,g=u.group,p=s,this._lastX=(o||n).clientX,this._lastY=(o||n).clientY,t.style["will-change"]="all",c=function(){d._disableDelayedDrag(),t.draggable=d.nativeDraggable,z(t,u.chosenClass,!0),d._triggerDragStart(n,o),Z(d,i,"choose",t,i,i,p)},u.ignore.split(",").forEach(function(e){Q(t,e.trim(),K)}),V(f,"mouseup",d._onDrop),V(f,"touchend",d._onDrop),V(f,"touchcancel",d._onDrop),V(f,"selectstart",d),u.supportPointer&&V(f,"pointercancel",d._onDrop),u.delay?(V(f,"mouseup",d._disableDelayedDrag),V(f,"touchend",d._disableDelayedDrag),V(f,"touchcancel",d._disableDelayedDrag),V(f,"mousemove",d._disableDelayedDrag),V(f,"touchmove",d._disableDelayedDrag),u.supportPointer&&V(f,"pointermove",d._disableDelayedDrag),d._dragStartTimer=N(c,u.delay)):c())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),q(t,"mouseup",this._disableDelayedDrag),q(t,"touchend",this._disableDelayedDrag),q(t,"touchcancel",this._disableDelayedDrag),q(t,"mousemove",this._disableDelayedDrag),q(t,"touchmove",this._disableDelayedDrag),q(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,n){(n=n||("touch"==e.pointerType?e:null))?(m={target:t,clientX:n.clientX,clientY:n.clientY},this._onDragStart(m,"touch")):this.nativeDraggable?(V(t,"dragend",this),V(i,"dragstart",this._onDragStart)):this._onDragStart(m,!0);try{E.selection?at(function(){E.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(i&&t){var e=this.options;z(t,e.ghostClass,!0),z(t,e.dragClass,!1),U.active=this,Z(this,i,"start",t,i,i,p)}else this._nulling()},_emulateDragOver:function(){if(_){if(this._lastX===_.clientX&&this._lastY===_.clientY)return;this._lastX=_.clientX,this._lastY=_.clientY,X||G(n,"display","none");var t=E.elementFromPoint(_.clientX,_.clientY),e=t,o=M.length;if(t&&t.shadowRoot&&(e=t=t.shadowRoot.elementFromPoint(_.clientX,_.clientY)),e)do{if(e[C]){for(;o--;)M[o]({clientX:_.clientX,clientY:_.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);X||G(n,"display","")}},_onTouchMove:function(t){if(m){var e=this.options,o=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,a=r.clientX-m.clientX+i.x,l=r.clientY-m.clientY+i.y,s=t.touches?"translate3d("+a+"px,"+l+"px,0)":"translate("+a+"px,"+l+"px)";if(!U.active){if(o&&R(I(r.clientX-this._lastX),I(r.clientY-this._lastY))<o)return;this._dragStarted()}this._appendGhost(),b=!0,_=r,G(n,"webkitTransform",s),G(n,"mozTransform",s),G(n,"msTransform",s),G(n,"transform",s),t.preventDefault()}},_appendGhost:function(){if(!n){var e,o=t.getBoundingClientRect(),r=G(t),a=this.options;z(n=t.cloneNode(!0),a.ghostClass,!1),z(n,a.fallbackClass,!0),z(n,a.dragClass,!0),G(n,"top",o.top-x(r.marginTop,10)),G(n,"left",o.left-x(r.marginLeft,10)),G(n,"width",o.width),G(n,"height",o.height),G(n,"opacity","0.8"),G(n,"position","fixed"),G(n,"zIndex","100000"),G(n,"pointerEvents","none"),a.fallbackOnBody&&E.body.appendChild(n)||i.appendChild(n),e=n.getBoundingClientRect(),G(n,"width",2*o.width-e.width),G(n,"height",2*o.height-e.height)}},_onDragStart:function(e,n){var r=this,a=e.dataTransfer,l=r.options;r._offUpEvents(),g.checkPull(r,r,t,e)&&((o=rt(t)).draggable=!1,o.style["will-change"]="",G(o,"display","none"),z(o,r.options.chosenClass,!1),r._cloneId=at(function(){i.insertBefore(o,t),Z(r,i,"clone",t)})),z(t,l.dragClass,!0),n?("touch"===n?(V(E,"touchmove",r._onTouchMove),V(E,"touchend",r._onDrop),V(E,"touchcancel",r._onDrop),l.supportPointer&&(V(E,"pointermove",r._onTouchMove),V(E,"pointerup",r._onDrop))):(V(E,"mousemove",r._onTouchMove),V(E,"mouseup",r._onDrop)),r._loopId=setInterval(r._emulateDragOver,50)):(a&&(a.effectAllowed="move",l.setData&&l.setData.call(r,a,t)),V(E,"drop",r),r._dragStartId=at(r._dragStarted))},_onDragOver:function(a){var l,s,c,p,f=this.el,m=this.options,_=m.group,D=U.active,y=g===_,w=!1,S=m.sort;if(void 0!==a.preventDefault&&(a.preventDefault(),!m.dragoverBubble&&a.stopPropagation()),!t.animated&&(b=!0,D&&!m.disabled&&(y?S||(p=!i.contains(t)):v===this||(D.lastPullMode=g.checkPull(this,D,t,a))&&_.checkPut(this,D,t,a))&&(void 0===a.rootEl||a.rootEl===this.el))){if(L(a,m,this.el),O)return;if(l=H(a.target,m.draggable,f),s=t.getBoundingClientRect(),v!==this&&(v=this,w=!0),p)return j(D,!0),e=i,void(o||r?i.insertBefore(t,o||r):S||i.appendChild(t));if(0===f.children.length||f.children[0]===n||f===a.target&&function(t,e){var n=t.lastElementChild.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}(f,a)){if(0!==f.children.length&&f.children[0]!==n&&f===a.target&&(l=f.lastElementChild),l){if(l.animated)return;c=l.getBoundingClientRect()}j(D,y),!1!==J(i,f,t,s,l,c,a)&&(t.contains(f)||(f.appendChild(t),e=f),this._animate(s,t),l&&this._animate(c,l))}else if(l&&!l.animated&&l!==t&&void 0!==l.parentNode[C]){d!==l&&(d=l,h=G(l),u=G(l.parentNode));var E=(c=l.getBoundingClientRect()).right-c.left,x=c.bottom-c.top,k=T.test(h.cssFloat+h.display)||"flex"==u.display&&0===u["flex-direction"].indexOf("row"),B=l.offsetWidth>t.offsetWidth,P=l.offsetHeight>t.offsetHeight,Y=(k?(a.clientX-c.left)/E:(a.clientY-c.top)/x)>.5,X=l.nextElementSibling,I=!1;if(k){var R=t.offsetTop,A=l.offsetTop;I=R===A?l.previousElementSibling===t&&!B||Y&&B:l.previousElementSibling===t||t.previousElementSibling===l?(a.clientY-c.top)/x>.5:A>R}else w||(I=X!==t&&!P||Y&&P);var M=J(i,f,t,s,l,c,a,I);!1!==M&&(1!==M&&-1!==M||(I=1===M),O=!0,N($,30),j(D,y),t.contains(f)||(I&&!X?f.appendChild(t):l.parentNode.insertBefore(t,I?X:l)),e=t.parentNode,this._animate(s,t),this._animate(c,l))}}},_animate:function(t,e){var n=this.options.animation;if(n){var o=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),G(e,"transition","none"),G(e,"transform","translate3d("+(t.left-o.left)+"px,"+(t.top-o.top)+"px,0)"),e.offsetWidth,G(e,"transition","all "+n+"ms"),G(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=N(function(){G(e,"transition",""),G(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;q(E,"touchmove",this._onTouchMove),q(E,"pointermove",this._onTouchMove),q(t,"mouseup",this._onDrop),q(t,"touchend",this._onDrop),q(t,"pointerup",this._onDrop),q(t,"touchcancel",this._onDrop),q(t,"pointercancel",this._onDrop),q(t,"selectstart",this)},_onDrop:function(a){var l=this.el,s=this.options;clearInterval(this._loopId),clearInterval(y.pid),clearTimeout(this._dragStartTimer),lt(this._cloneId),lt(this._dragStartId),q(E,"mouseover",this),q(E,"mousemove",this._onTouchMove),this.nativeDraggable&&(q(E,"drop",this),q(l,"dragstart",this._onDragStart)),this._offUpEvents(),a&&(b&&(a.preventDefault(),!s.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),i!==e&&"clone"===U.active.lastPullMode||o&&o.parentNode&&o.parentNode.removeChild(o),t&&(this.nativeDraggable&&q(t,"dragend",this),K(t),t.style["will-change"]="",z(t,this.options.ghostClass,!1),z(t,this.options.chosenClass,!1),Z(this,i,"unchoose",t,e,i,p),i!==e?(f=et(t,s.draggable))>=0&&(Z(null,e,"add",t,e,i,p,f),Z(this,i,"remove",t,e,i,p,f),Z(null,e,"sort",t,e,i,p,f),Z(this,i,"sort",t,e,i,p,f)):t.nextSibling!==r&&(f=et(t,s.draggable))>=0&&(Z(this,i,"update",t,e,i,p,f),Z(this,i,"sort",t,e,i,p,f)),U.active&&(null!=f&&-1!==f||(f=p),Z(this,i,"end",t,e,i,p,f),this.save()))),this._nulling()},_nulling:function(){i=t=e=n=r=o=a=l=s=m=_=b=f=d=h=v=g=U.active=null,A.forEach(function(t){t.checked=!0}),A.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.preventDefault()}(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)H(t=n[o],r.draggable,this.el)&&e.push(t.getAttribute(r.dataIdAttr)||tt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,o){var i=n.children[o];H(i,this.options.draggable,n)&&(e[t]=i)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return H(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&F(n)},destroy:function(){var t=this.el;t[C]=null,q(t,"mousedown",this._onTapStart),q(t,"touchstart",this._onTapStart),q(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(q(t,"dragover",this),q(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),M.splice(M.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},V(E,"touchmove",function(t){U.active&&t.preventDefault()}),U.utils={on:V,off:q,css:G,find:Q,is:function(t,e){return!!H(t,e,t)},extend:it,throttle:ot,closest:H,toggleClass:z,clone:rt,index:et,nextTick:at,cancelNextTick:lt},U.create=function(t,e){return new U(t,e)},U.version="1.7.0",U});
},{}],102:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t="undefined"!=typeof window,i=t?window:{},e="cropper",a="all",n="crop",o="move",h="zoom",r="e",s="w",c="s",d="n",l="ne",p="nw",m="se",u="sw",g=e+"-crop",f=e+"-disabled",v=e+"-hidden",w=e+"-hide",b=e+"-invisible",x=e+"-modal",y=e+"-move",M="action",C="preview",D="crop",B="move",k="none",T="crop",W="cropend",E="cropmove",H="cropstart",N="dblclick",L="load",O=i.PointerEvent?"pointerdown":"touchstart mousedown",z=i.PointerEvent?"pointermove":"touchmove mousemove",Y=i.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",X="ready",R="resize",S="wheel mousewheel DOMMouseScroll",I="zoom",A=/^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,U=/^data:/,j=/^data:image\/jpeg;base64,/,P=/^(?:img|canvas)$/i,q={viewMode:0,dragMode:D,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},$='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},F=function(){function t(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(i,e,a){return e&&t(i.prototype,e),a&&t(i,a),i}}(),K=function(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)},_=Number.isNaN||i.isNaN;function V(t){return"number"==typeof t&&!_(t)}function G(t){return void 0===t}function J(t){return"object"===(void 0===t?"undefined":Q(t))&&null!==t}var tt=Object.prototype.hasOwnProperty;function it(t){if(!J(t))return!1;try{var i=t.constructor,e=i.prototype;return i&&e&&tt.call(e,"isPrototypeOf")}catch(t){return!1}}function et(t){return"function"==typeof t}function at(t,i){if(t&&et(i))if(Array.isArray(t)||V(t.length)){var e=t.length,a=void 0;for(a=0;a<e&&!1!==i.call(t,t[a],a,t);a+=1);}else J(t)&&Object.keys(t).forEach(function(e){i.call(t,t[e],e,t)});return t}var nt=Object.assign||function(t){for(var i=arguments.length,e=Array(i>1?i-1:0),a=1;a<i;a++)e[a-1]=arguments[a];return J(t)&&e.length>0&&e.forEach(function(i){J(i)&&Object.keys(i).forEach(function(e){t[e]=i[e]})}),t},ot=/\.\d*(?:0|9){12}\d*$/i;function ht(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ot.test(t)?Math.round(t*i)/i:t}var rt=/^(?:width|height|left|top|marginLeft|marginTop)$/;function st(t,i){var e=t.style;at(i,function(t,i){rt.test(i)&&V(t)&&(t+="px"),e[i]=t})}function ct(t,i){return t.classList?t.classList.contains(i):t.className.indexOf(i)>-1}function dt(t,i){if(i)if(V(t.length))at(t,function(t){dt(t,i)});else if(t.classList)t.classList.add(i);else{var e=t.className.trim();e?e.indexOf(i)<0&&(t.className=e+" "+i):t.className=i}}function lt(t,i){i&&(V(t.length)?at(t,function(t){lt(t,i)}):t.classList?t.classList.remove(i):t.className.indexOf(i)>=0&&(t.className=t.className.replace(i,"")))}function pt(t,i,e){i&&(V(t.length)?at(t,function(t){pt(t,i,e)}):e?dt(t,i):lt(t,i))}var mt=/([a-z\d])([A-Z])/g;function ut(t){return t.replace(mt,"$1-$2").toLowerCase()}function gt(t,i){return J(t[i])?t[i]:t.dataset?t.dataset[i]:t.getAttribute("data-"+ut(i))}function ft(t,i,e){J(e)?t[i]=e:t.dataset?t.dataset[i]=e:t.setAttribute("data-"+ut(i),e)}function vt(t,i){if(J(t[i]))try{delete t[i]}catch(e){t[i]=void 0}else if(t.dataset)try{delete t.dataset[i]}catch(e){t.dataset[i]=void 0}else t.removeAttribute("data-"+ut(i))}var wt=/\s\s*/,bt=function(){var e=!1;if(t){var a=!1,n=function(){},o=Object.defineProperty({},"once",{get:function(){return e=!0,a},set:function(t){a=t}});i.addEventListener("test",n,o),i.removeEventListener("test",n,o)}return e}();function xt(t,i,e){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=e;i.trim().split(wt).forEach(function(i){if(!bt){var o=t.listeners;o&&o[i]&&o[i][e]&&(n=o[i][e],delete o[i][e],0===Object.keys(o[i]).length&&delete o[i],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(i,n,a)})}function yt(t,i,e){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=e;i.trim().split(wt).forEach(function(i){if(a.once&&!bt){var o=t.listeners,h=void 0===o?{}:o;n=function(){for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];delete h[i][e],t.removeEventListener(i,n,a),e.apply(t,r)},h[i]||(h[i]={}),h[i][e]&&t.removeEventListener(i,h[i][e],a),h[i][e]=n,t.listeners=h}t.addEventListener(i,n,a)})}function Mt(t,i,e){var a=void 0;return et(Event)&&et(CustomEvent)?a=new CustomEvent(i,{detail:e,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,e),t.dispatchEvent(a)}function Ct(t){var i=t.getBoundingClientRect();return{left:i.left+(window.pageXOffset-document.documentElement.clientLeft),top:i.top+(window.pageYOffset-document.documentElement.clientTop)}}var Dt=i.location,Bt=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function kt(t){var i=t.match(Bt);return i&&(i[1]!==Dt.protocol||i[2]!==Dt.hostname||i[3]!==Dt.port)}function Tt(t){var i="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+i}function Wt(t){var i=t.rotate,e=t.scaleX,a=t.scaleY,n=t.translateX,o=t.translateY,h=[];V(n)&&0!==n&&h.push("translateX("+n+"px)"),V(o)&&0!==o&&h.push("translateY("+o+"px)"),V(i)&&0!==i&&h.push("rotate("+i+"deg)"),V(e)&&1!==e&&h.push("scaleX("+e+")"),V(a)&&1!==a&&h.push("scaleY("+a+")");var r=h.length?h.join(" "):"none";return{WebkitTransform:r,msTransform:r,transform:r}}function Et(t){var i=nt({},t),e=[];return at(t,function(t,a){delete i[a],at(i,function(i){var a=Math.abs(t.startX-i.startX),n=Math.abs(t.startY-i.startY),o=Math.abs(t.endX-i.endX),h=Math.abs(t.endY-i.endY),r=Math.sqrt(a*a+n*n),s=(Math.sqrt(o*o+h*h)-r)/r;e.push(s)})}),e.sort(function(t,i){return Math.abs(t)<Math.abs(i)}),e[0]}function Ht(t,i){var e=t.pageX,a=t.pageY,n={endX:e,endY:a};return i?n:nt({startX:e,startY:a},n)}function Nt(t){var i=0,e=0,a=0;return at(t,function(t){var n=t.startX,o=t.startY;i+=n,e+=o,a+=1}),{pageX:i/=a,pageY:e/=a}}var Lt=Number.isFinite||i.isFinite;function Ot(t){var i=t.aspectRatio,e=t.height,a=t.width,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=function(t){return Lt(t)&&t>0};if(o(a)&&o(e)){var h=e*i;"contain"===n&&h>a||"cover"===n&&h<a?e=a/i:a=e*i}else o(a)?e=a/i:o(e)&&(a=e*i);return{width:a,height:e}}function zt(t){var i=t.width,e=t.height,a=t.degree;if(90===(a=Math.abs(a)%180))return{width:e,height:i};var n=a%90*Math.PI/180,o=Math.sin(n),h=Math.cos(n),r=i*h+e*o,s=i*o+e*h;return a>90?{width:s,height:r}:{width:r,height:s}}function Yt(t,i,e,a){var n=i.aspectRatio,o=i.naturalWidth,h=i.naturalHeight,r=i.rotate,s=void 0===r?0:r,c=i.scaleX,d=void 0===c?1:c,l=i.scaleY,p=void 0===l?1:l,m=e.aspectRatio,u=e.naturalWidth,g=e.naturalHeight,f=a.fillColor,v=void 0===f?"transparent":f,w=a.imageSmoothingEnabled,b=void 0===w||w,x=a.imageSmoothingQuality,y=void 0===x?"low":x,M=a.maxWidth,C=void 0===M?1/0:M,D=a.maxHeight,B=void 0===D?1/0:D,k=a.minWidth,T=void 0===k?0:k,W=a.minHeight,E=void 0===W?0:W,H=document.createElement("canvas"),N=H.getContext("2d"),L=Ot({aspectRatio:m,width:C,height:B}),O=Ot({aspectRatio:m,width:T,height:E},"cover"),z=Math.min(L.width,Math.max(O.width,u)),Y=Math.min(L.height,Math.max(O.height,g)),X=Ot({aspectRatio:n,width:C,height:B}),R=Ot({aspectRatio:n,width:T,height:E},"cover"),S=Math.min(X.width,Math.max(R.width,o)),I=Math.min(X.height,Math.max(R.height,h)),A=[-S/2,-I/2,S,I];return H.width=ht(z),H.height=ht(Y),N.fillStyle=v,N.fillRect(0,0,z,Y),N.save(),N.translate(z/2,Y/2),N.rotate(s*Math.PI/180),N.scale(d,p),N.imageSmoothingEnabled=b,N.imageSmoothingQuality=y,N.drawImage.apply(N,[t].concat(K(A.map(function(t){return Math.floor(ht(t))})))),N.restore(),H}var Xt=String.fromCharCode;function Rt(t,i,e){var a="",n=void 0;for(e+=i,n=i;n<e;n+=1)a+=Xt(t.getUint8(n));return a}var St=/^data:.*,/;function It(t){var i=t.replace(St,""),e=atob(i),a=new ArrayBuffer(e.length),n=new Uint8Array(a);return at(n,function(t,i){n[i]=e.charCodeAt(i)}),a}function At(t,i){var e="";return at(new Uint8Array(t),function(t){e+=Xt(t)}),"data:"+i+";base64,"+btoa(e)}function Ut(t){var i=new DataView(t),e=void 0,a=void 0,n=void 0,o=void 0;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var h=i.byteLength,r=2;r<h;){if(255===i.getUint8(r)&&225===i.getUint8(r+1)){n=r;break}r+=1}if(n){var s=n+10;if("Exif"===Rt(i,n+4,4)){var c=i.getUint16(s);if(((a=18761===c)||19789===c)&&42===i.getUint16(s+2,a)){var d=i.getUint32(s+4,a);d>=8&&(o=s+d)}}}if(o){var l=i.getUint16(o,a),p=void 0,m=void 0;for(m=0;m<l;m+=1)if(p=o+12*m+2,274===i.getUint16(p,a)){p+=8,e=i.getUint16(p,a),i.setUint16(p,1,a);break}}return e}function jt(t){var i=0,e=1,a=1;switch(t){case 2:e=-1;break;case 3:i=-180;break;case 4:a=-1;break;case 5:i=90,a=-1;break;case 6:i=90;break;case 7:i=90,e=-1;break;case 8:i=-90}return{rotate:i,scaleX:e,scaleY:a}}var Pt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,i=this.options,e=this.container,a=this.cropper;dt(a,v),lt(t,v);var n={width:Math.max(e.offsetWidth,Number(i.minContainerWidth)||200),height:Math.max(e.offsetHeight,Number(i.minContainerHeight)||100)};this.containerData=n,st(a,{width:n.width,height:n.height}),dt(t,v),lt(a,v)},initCanvas:function(){var t=this.containerData,i=this.imageData,e=this.options.viewMode,a=Math.abs(i.rotate)%180==90,n=a?i.naturalHeight:i.naturalWidth,o=a?i.naturalWidth:i.naturalHeight,h=n/o,r=t.width,s=t.height;t.height*h>t.width?3===e?r=t.height*h:s=t.width/h:3===e?s=t.width/h:r=t.height*h;var c={aspectRatio:h,naturalWidth:n,naturalHeight:o,width:r,height:s};c.left=(t.width-r)/2,c.top=(t.height-s)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===e||2===e,this.limitCanvas(!0,!0),this.initialImageData=nt({},i),this.initialCanvasData=nt({},c)},limitCanvas:function(t,i){var e=this.options,a=this.containerData,n=this.canvasData,o=this.cropBoxData,h=e.viewMode,r=n.aspectRatio,s=this.cropped&&o;if(t){var c=Number(e.minCanvasWidth)||0,d=Number(e.minCanvasHeight)||0;h>1?(c=Math.max(c,a.width),d=Math.max(d,a.height),3===h&&(d*r>c?c=d*r:d=c/r)):h>0&&(c?c=Math.max(c,s?o.width:0):d?d=Math.max(d,s?o.height:0):s&&(c=o.width,(d=o.height)*r>c?c=d*r:d=c/r));var l=Ot({aspectRatio:r,width:c,height:d});c=l.width,d=l.height,n.minWidth=c,n.minHeight=d,n.maxWidth=1/0,n.maxHeight=1/0}if(i)if(h){var p=a.width-n.width,m=a.height-n.height;n.minLeft=Math.min(0,p),n.minTop=Math.min(0,m),n.maxLeft=Math.max(0,p),n.maxTop=Math.max(0,m),s&&this.limited&&(n.minLeft=Math.min(o.left,o.left+(o.width-n.width)),n.minTop=Math.min(o.top,o.top+(o.height-n.height)),n.maxLeft=o.left,n.maxTop=o.top,2===h&&(n.width>=a.width&&(n.minLeft=Math.min(0,p),n.maxLeft=Math.max(0,p)),n.height>=a.height&&(n.minTop=Math.min(0,m),n.maxTop=Math.max(0,m))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=a.width,n.maxTop=a.height},renderCanvas:function(t,i){var e=this.canvasData,a=this.imageData;if(i){var n=zt({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),o=n.width,h=n.height,r=e.width*(o/e.naturalWidth),s=e.height*(h/e.naturalHeight);e.left-=(r-e.width)/2,e.top-=(s-e.height)/2,e.width=r,e.height=s,e.aspectRatio=o/h,e.naturalWidth=o,e.naturalHeight=h,this.limitCanvas(!0,!1)}(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCanvas(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,st(this.canvas,nt({width:e.width,height:e.height},Wt({translateX:e.left,translateY:e.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var i=this.canvasData,e=this.imageData,a=e.naturalWidth*(i.width/i.naturalWidth),n=e.naturalHeight*(i.height/i.naturalHeight);nt(e,{width:a,height:n,left:(i.width-a)/2,top:(i.height-n)/2}),st(this.image,nt({width:e.width,height:e.height},Wt(nt({translateX:e.left,translateY:e.top},e)))),t&&this.output()},initCropBox:function(){var t=this.options,i=this.canvasData,e=t.aspectRatio,a=Number(t.autoCropArea)||.8,n={width:i.width,height:i.height};e&&(i.height*e>i.width?n.height=n.width/e:n.width=n.height*e),this.cropBoxData=n,this.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*a),n.height=Math.max(n.minHeight,n.height*a),n.left=i.left+(i.width-n.width)/2,n.top=i.top+(i.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=nt({},n)},limitCropBox:function(t,i){var e=this.options,a=this.containerData,n=this.canvasData,o=this.cropBoxData,h=this.limited,r=e.aspectRatio;if(t){var s=Number(e.minCropBoxWidth)||0,c=Number(e.minCropBoxHeight)||0,d=Math.min(a.width,h?n.width:a.width),l=Math.min(a.height,h?n.height:a.height);s=Math.min(s,a.width),c=Math.min(c,a.height),r&&(s&&c?c*r>s?c=s/r:s=c*r:s?c=s/r:c&&(s=c*r),l*r>d?l=d/r:d=l*r),o.minWidth=Math.min(s,d),o.minHeight=Math.min(c,l),o.maxWidth=d,o.maxHeight=l}i&&(h?(o.minLeft=Math.max(0,n.left),o.minTop=Math.max(0,n.top),o.maxLeft=Math.min(a.width,n.left+n.width)-o.width,o.maxTop=Math.min(a.height,n.top+n.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=a.width-o.width,o.maxTop=a.height-o.height))},renderCropBox:function(){var t=this.options,i=this.containerData,e=this.cropBoxData;(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCropBox(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,t.movable&&t.cropBoxMovable&&ft(this.face,M,e.width>=i.width&&e.height>=i.height?o:a),st(this.cropBox,nt({width:e.width,height:e.height},Wt({translateX:e.left,translateY:e.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Mt(this.element,T,this.getData())}},qt={initPreview:function(){var t=this.crossOrigin,i=this.options.preview,e=t?this.crossOriginUrl:this.url,a=document.createElement("img");if(t&&(a.crossOrigin=t),a.src=e,this.viewBox.appendChild(a),this.viewBoxImage=a,i){var n=i;"string"==typeof i?n=this.element.ownerDocument.querySelectorAll(i):i.querySelector&&(n=[i]),this.previews=n,at(n,function(i){var a=document.createElement("img");ft(i,C,{width:i.offsetWidth,height:i.offsetHeight,html:i.innerHTML}),t&&(a.crossOrigin=t),a.src=e,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',i.innerHTML="",i.appendChild(a)})}},resetPreview:function(){at(this.previews,function(t){var i=gt(t,C);st(t,{width:i.width,height:i.height}),t.innerHTML=i.html,vt(t,C)})},preview:function(){var t=this.imageData,i=this.canvasData,e=this.cropBoxData,a=e.width,n=e.height,o=t.width,h=t.height,r=e.left-i.left-t.left,s=e.top-i.top-t.top;this.cropped&&!this.disabled&&(st(this.viewBoxImage,nt({width:o,height:h},Wt(nt({translateX:-r,translateY:-s},t)))),at(this.previews,function(i){var e=gt(i,C),c=e.width,d=e.height,l=c,p=d,m=1;a&&(p=n*(m=c/a)),n&&p>d&&(l=a*(m=d/n),p=d),st(i,{width:l,height:p}),st(i.getElementsByTagName("img")[0],nt({width:o*m,height:h*m},Wt(nt({translateX:-r*m,translateY:-s*m},t))))}))}},$t={bind:function(){var t=this.element,i=this.options,e=this.cropper;et(i.cropstart)&&yt(t,H,i.cropstart),et(i.cropmove)&&yt(t,E,i.cropmove),et(i.cropend)&&yt(t,W,i.cropend),et(i.crop)&&yt(t,T,i.crop),et(i.zoom)&&yt(t,I,i.zoom),yt(e,O,this.onCropStart=this.cropStart.bind(this)),i.zoomable&&i.zoomOnWheel&&yt(e,S,this.onWheel=this.wheel.bind(this)),i.toggleDragModeOnDblclick&&yt(e,N,this.onDblclick=this.dblclick.bind(this)),yt(t.ownerDocument,z,this.onCropMove=this.cropMove.bind(this)),yt(t.ownerDocument,Y,this.onCropEnd=this.cropEnd.bind(this)),i.responsive&&yt(window,R,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,i=this.options,e=this.cropper;et(i.cropstart)&&xt(t,H,i.cropstart),et(i.cropmove)&&xt(t,E,i.cropmove),et(i.cropend)&&xt(t,W,i.cropend),et(i.crop)&&xt(t,T,i.crop),et(i.zoom)&&xt(t,I,i.zoom),xt(e,O,this.onCropStart),i.zoomable&&i.zoomOnWheel&&xt(e,S,this.onWheel),i.toggleDragModeOnDblclick&&xt(e,N,this.onDblclick),xt(t.ownerDocument,z,this.onCropMove),xt(t.ownerDocument,Y,this.onCropEnd),i.responsive&&xt(window,R,this.onResize)}},Qt={resize:function(){var t=this.options,i=this.container,e=this.containerData,a=Number(t.minContainerWidth)||200,n=Number(t.minContainerHeight)||100;if(!(this.disabled||e.width<=a||e.height<=n)){var o=i.offsetWidth/e.width;if(1!==o||i.offsetHeight!==e.height){var h=void 0,r=void 0;t.restore&&(h=this.getCanvasData(),r=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(at(h,function(t,i){h[i]=t*o})),this.setCropBoxData(at(r,function(t,i){r[i]=t*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===k||this.setDragMode(ct(this.dragBox,g)?B:D)},wheel:function(t){var i=this,e=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),t.deltaY?a=t.deltaY>0?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=t.detail>0?1:-1),this.zoom(-a*e,t)))},cropStart:function(t){if(!this.disabled){var i=this.options,e=this.pointers,a=void 0;t.changedTouches?at(t.changedTouches,function(t){e[t.identifier]=Ht(t)}):e[t.pointerId||0]=Ht(t),a=Object.keys(e).length>1&&i.zoomable&&i.zoomOnTouch?h:gt(t.target,M),A.test(a)&&!1!==Mt(this.element,H,{originalEvent:t,action:a})&&(t.preventDefault(),this.action=a,this.cropping=!1,a===n&&(this.cropping=!0,dt(this.dragBox,x)))}},cropMove:function(t){var i=this.action;if(!this.disabled&&i){var e=this.pointers;t.preventDefault(),!1!==Mt(this.element,E,{originalEvent:t,action:i})&&(t.changedTouches?at(t.changedTouches,function(t){nt(e[t.identifier],Ht(t,!0))}):nt(e[t.pointerId||0],Ht(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var i=this.action,e=this.pointers;t.changedTouches?at(t.changedTouches,function(t){delete e[t.identifier]}):delete e[t.pointerId||0],i&&(t.preventDefault(),Object.keys(e).length||(this.action=""),this.cropping&&(this.cropping=!1,pt(this.dragBox,x,this.cropped&&this.options.modal)),Mt(this.element,W,{originalEvent:t,action:i}))}}},Zt={change:function(t){var i=this.options,e=this.canvasData,g=this.containerData,f=this.cropBoxData,w=this.pointers,b=this.action,x=i.aspectRatio,y=f.left,M=f.top,C=f.width,D=f.height,B=y+C,k=M+D,T=0,W=0,E=g.width,H=g.height,N=!0,L=void 0;!x&&t.shiftKey&&(x=C&&D?C/D:1),this.limited&&(T=f.minLeft,W=f.minTop,E=T+Math.min(g.width,e.width,e.left+e.width),H=W+Math.min(g.height,e.height,e.top+e.height));var O=w[Object.keys(w)[0]],z={x:O.endX-O.startX,y:O.endY-O.startY},Y=function(t){switch(t){case r:B+z.x>E&&(z.x=E-B);break;case s:y+z.x<T&&(z.x=T-y);break;case d:M+z.y<W&&(z.y=W-M);break;case c:k+z.y>H&&(z.y=H-k)}};switch(b){case a:y+=z.x,M+=z.y;break;case r:if(z.x>=0&&(B>=E||x&&(M<=W||k>=H))){N=!1;break}Y(r),C+=z.x,x&&(D=C/x,M-=z.x/x/2),C<0&&(b=s,C=0);break;case d:if(z.y<=0&&(M<=W||x&&(y<=T||B>=E))){N=!1;break}Y(d),D-=z.y,M+=z.y,x&&(C=D*x,y+=z.y*x/2),D<0&&(b=c,D=0);break;case s:if(z.x<=0&&(y<=T||x&&(M<=W||k>=H))){N=!1;break}Y(s),C-=z.x,y+=z.x,x&&(D=C/x,M+=z.x/x/2),C<0&&(b=r,C=0);break;case c:if(z.y>=0&&(k>=H||x&&(y<=T||B>=E))){N=!1;break}Y(c),D+=z.y,x&&(C=D*x,y-=z.y*x/2),D<0&&(b=d,D=0);break;case l:if(x){if(z.y<=0&&(M<=W||B>=E)){N=!1;break}Y(d),D-=z.y,M+=z.y,C=D*x}else Y(d),Y(r),z.x>=0?B<E?C+=z.x:z.y<=0&&M<=W&&(N=!1):C+=z.x,z.y<=0?M>W&&(D-=z.y,M+=z.y):(D-=z.y,M+=z.y);C<0&&D<0?(b=u,D=0,C=0):C<0?(b=p,C=0):D<0&&(b=m,D=0);break;case p:if(x){if(z.y<=0&&(M<=W||y<=T)){N=!1;break}Y(d),D-=z.y,M+=z.y,C=D*x,y+=z.y*x}else Y(d),Y(s),z.x<=0?y>T?(C-=z.x,y+=z.x):z.y<=0&&M<=W&&(N=!1):(C-=z.x,y+=z.x),z.y<=0?M>W&&(D-=z.y,M+=z.y):(D-=z.y,M+=z.y);C<0&&D<0?(b=m,D=0,C=0):C<0?(b=l,C=0):D<0&&(b=u,D=0);break;case u:if(x){if(z.x<=0&&(y<=T||k>=H)){N=!1;break}Y(s),C-=z.x,y+=z.x,D=C/x}else Y(c),Y(s),z.x<=0?y>T?(C-=z.x,y+=z.x):z.y>=0&&k>=H&&(N=!1):(C-=z.x,y+=z.x),z.y>=0?k<H&&(D+=z.y):D+=z.y;C<0&&D<0?(b=l,D=0,C=0):C<0?(b=m,C=0):D<0&&(b=p,D=0);break;case m:if(x){if(z.x>=0&&(B>=E||k>=H)){N=!1;break}Y(r),D=(C+=z.x)/x}else Y(c),Y(r),z.x>=0?B<E?C+=z.x:z.y>=0&&k>=H&&(N=!1):C+=z.x,z.y>=0?k<H&&(D+=z.y):D+=z.y;C<0&&D<0?(b=p,D=0,C=0):C<0?(b=u,C=0):D<0&&(b=l,D=0);break;case o:this.move(z.x,z.y),N=!1;break;case h:this.zoom(Et(w),t),N=!1;break;case n:if(!z.x||!z.y){N=!1;break}L=Ct(this.cropper),y=O.startX-L.left,M=O.startY-L.top,C=f.minWidth,D=f.minHeight,z.x>0?b=z.y>0?m:l:z.x<0&&(y-=C,b=z.y>0?u:p),z.y<0&&(M-=D),this.cropped||(lt(this.cropBox,v),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}N&&(f.width=C,f.height=D,f.left=y,f.top=M,this.action=b,this.renderCropBox()),at(w,function(t){t.startX=t.endX,t.startY=t.endY})}},Ft={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&dt(this.dragBox,x),lt(this.cropBox,v),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=nt({},this.initialImageData),this.canvasData=nt({},this.initialCanvasData),this.cropBoxData=nt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(nt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),lt(this.dragBox,x),dt(this.cropBox,v)),this},replace:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),i?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,at(this.previews,function(i){i.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,lt(this.cropper,f)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,dt(this.cropper,f)),this},destroy:function(){var t=this.element;return gt(t,e)?(this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),vt(t,e),this):this},move:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.canvasData,a=e.left,n=e.top;return this.moveTo(G(t)?t:a+Number(t),G(i)?i:n+Number(i))},moveTo:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.canvasData,a=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(V(t)&&(e.left=t,a=!0),V(i)&&(e.top=i,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(t,i){var e=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(e.width*t/e.naturalWidth,null,i)},zoomTo:function(t,i,e){var a=this.options,n=this.canvasData,o=n.width,h=n.height,r=n.naturalWidth,s=n.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&a.zoomable){var c=r*t,d=s*t;if(!1===Mt(this.element,I,{originalEvent:e,oldRatio:o/r,ratio:c/r}))return this;if(e){var l=this.pointers,p=Ct(this.cropper),m=l&&Object.keys(l).length?Nt(l):{pageX:e.pageX,pageY:e.pageY};n.left-=(c-o)*((m.pageX-p.left-n.left)/o),n.top-=(d-h)*((m.pageY-p.top-n.top)/h)}else it(i)&&V(i.x)&&V(i.y)?(n.left-=(c-o)*((i.x-n.left)/o),n.top-=(d-h)*((i.y-n.top)/h)):(n.left-=(c-o)/2,n.top-=(d-h)/2);n.width=c,n.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return V(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var i=this.imageData.scaleY;return this.scale(t,V(i)?i:1)},scaleY:function(t){var i=this.imageData.scaleX;return this.scale(V(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.imageData,a=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(V(t)&&(e.scaleX=t,a=!0),V(i)&&(e.scaleY=i,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,e=this.imageData,a=this.canvasData,n=this.cropBoxData,o=void 0;if(this.ready&&this.cropped){o={x:n.left-a.left,y:n.top-a.top,width:n.width,height:n.height};var h=e.width/e.naturalWidth;at(o,function(i,e){i/=h,o[e]=t?Math.round(i):i})}else o={x:0,y:0,width:0,height:0};return i.rotatable&&(o.rotate=e.rotate||0),i.scalable&&(o.scaleX=e.scaleX||1,o.scaleY=e.scaleY||1),o},setData:function(t){var i=this.options,e=this.imageData,a=this.canvasData,n={};if(this.ready&&!this.disabled&&it(t)){var o=!1;i.rotatable&&V(t.rotate)&&t.rotate!==e.rotate&&(e.rotate=t.rotate,o=!0),i.scalable&&(V(t.scaleX)&&t.scaleX!==e.scaleX&&(e.scaleX=t.scaleX,o=!0),V(t.scaleY)&&t.scaleY!==e.scaleY&&(e.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var h=e.width/e.naturalWidth;V(t.x)&&(n.left=t.x*h+a.left),V(t.y)&&(n.top=t.y*h+a.top),V(t.width)&&(n.width=t.width*h),V(t.height)&&(n.height=t.height*h),this.setCropBoxData(n)}return this},getContainerData:function(){return this.ready?nt({},this.containerData):{}},getImageData:function(){return this.sized?nt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,i={};return this.ready&&at(["left","top","width","height","naturalWidth","naturalHeight"],function(e){i[e]=t[e]}),i},setCanvasData:function(t){var i=this.canvasData,e=i.aspectRatio;return this.ready&&!this.disabled&&it(t)&&(V(t.left)&&(i.left=t.left),V(t.top)&&(i.top=t.top),V(t.width)?(i.width=t.width,i.height=t.width/e):V(t.height)&&(i.height=t.height,i.width=t.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,i=void 0;return this.ready&&this.cropped&&(i={left:t.left,top:t.top,width:t.width,height:t.height}),i||{}},setCropBoxData:function(t){var i=this.cropBoxData,e=this.options.aspectRatio,a=void 0,n=void 0;return this.ready&&this.cropped&&!this.disabled&&it(t)&&(V(t.left)&&(i.left=t.left),V(t.top)&&(i.top=t.top),V(t.width)&&t.width!==i.width&&(a=!0,i.width=t.width),V(t.height)&&t.height!==i.height&&(n=!0,i.height=t.height),e&&(a?i.height=i.width/e:n&&(i.width=i.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,e=Yt(this.image,this.imageData,i,t);if(!this.cropped)return e;var a=this.getData(),n=a.x,o=a.y,h=a.width,r=a.height,s=e.width/Math.floor(i.naturalWidth);1!==s&&(n*=s,o*=s,h*=s,r*=s);var c=h/r,d=Ot({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),l=Ot({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=Ot({aspectRatio:c,width:t.width||(1!==s?e.width:h),height:t.height||(1!==s?e.height:r)}),m=p.width,u=p.height;m=Math.min(d.width,Math.max(l.width,m)),u=Math.min(d.height,Math.max(l.height,u));var g=document.createElement("canvas"),f=g.getContext("2d");g.width=ht(m),g.height=ht(u),f.fillStyle=t.fillColor||"transparent",f.fillRect(0,0,m,u);var v=t.imageSmoothingEnabled,w=void 0===v||v,b=t.imageSmoothingQuality;f.imageSmoothingEnabled=w,b&&(f.imageSmoothingQuality=b);var x=e.width,y=e.height,M=n,C=o,D=void 0,B=void 0,k=void 0,T=void 0,W=void 0,E=void 0;M<=-h||M>x?(M=0,D=0,k=0,W=0):M<=0?(k=-M,M=0,W=D=Math.min(x,h+M)):M<=x&&(k=0,W=D=Math.min(h,x-M)),D<=0||C<=-r||C>y?(C=0,B=0,T=0,E=0):C<=0?(T=-C,C=0,E=B=Math.min(y,r+C)):C<=y&&(T=0,E=B=Math.min(r,y-C));var H=[M,C,D,B];if(W>0&&E>0){var N=m/h;H.push(k*N,T*N,W*N,E*N)}return f.drawImage.apply(f,[e].concat(K(H.map(function(t){return Math.floor(ht(t))})))),g},setAspectRatio:function(t){var i=this.options;return this.disabled||G(t)||(i.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var i=this.options,e=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var n=t===D,o=i.movable&&t===B;t=n||o?t:k,i.dragMode=t,ft(e,M,t),pt(e,g,n),pt(e,y,o),i.cropBoxMovable||(ft(a,M,t),pt(a,g,n),pt(a,y,o))}return this}},Kt=i.Cropper,_t=function(){function t(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Z(this,t),!i||!P.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.options=nt({},q,it(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return F(t,[{key:"init",value:function(){var t=this.element,i=t.tagName.toLowerCase(),a=void 0;if(!gt(t,e)){if(ft(t,e,this),"img"===i){if(this.isImg=!0,a=t.getAttribute("src")||"",this.originalUrl=a,!a)return;a=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(a=t.toDataURL());this.load(a)}}},{key:"load",value:function(t){var i=this;if(t){this.url=t,this.imageData={};var e=this.element,a=this.options;if(a.checkOrientation&&window.ArrayBuffer)if(U.test(t))j.test(t)?this.read(It(t)):this.clone();else{var n=new XMLHttpRequest;this.reloading=!0,this.xhr=n;var o=function(){i.reloading=!1,i.xhr=null};n.ontimeout=o,n.onabort=o,n.onerror=function(){o(),i.clone()},n.onload=function(){o(),i.read(n.response)},a.checkCrossOrigin&&kt(t)&&e.crossOrigin&&(t=Tt(t)),n.open("get",t),n.responseType="arraybuffer",n.withCredentials="use-credentials"===e.crossOrigin,n.send()}else this.clone()}}},{key:"read",value:function(t){var i=this.options,e=this.imageData,a=Ut(t),n=0,o=1,h=1;if(a>1){this.url=At(t,"image/jpeg");var r=jt(a);n=r.rotate,o=r.scaleX,h=r.scaleY}i.rotatable&&(e.rotate=n),i.scalable&&(e.scaleX=o,e.scaleY=h),this.clone()}},{key:"clone",value:function(){var t=this.element,i=this.url,e=void 0,a=void 0;this.options.checkCrossOrigin&&kt(i)&&((e=t.crossOrigin)?a=i:(e="anonymous",a=Tt(i))),this.crossOrigin=e,this.crossOriginUrl=a;var n=document.createElement("img");e&&(n.crossOrigin=e),n.src=a||i;var o=this.start.bind(this),h=this.stop.bind(this);this.image=n,this.onStart=o,this.onStop=h,this.isImg?t.complete?this.timeout=setTimeout(o,0):yt(t,L,o,{once:!0}):(n.onload=o,n.onerror=h,dt(n,w),t.parentNode.insertBefore(n,t.nextSibling))}},{key:"start",value:function(t){var e=this,a=this.isImg?this.element:this.image;t&&(a.onload=null,a.onerror=null),this.sizing=!0;var n=i.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(i.navigator.userAgent),o=function(t,i){nt(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.sizing=!1,e.sized=!0,e.build()};if(!a.naturalWidth||n){var h=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=h,h.onload=function(){o(h.width,h.height),n||r.removeChild(h)},h.src=a.src,n||(h.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(h))}else o(a.naturalWidth,a.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,i=this.options,n=this.image,o=t.parentNode,h=document.createElement("div");h.innerHTML=$;var r=h.querySelector("."+e+"-container"),s=r.querySelector("."+e+"-canvas"),c=r.querySelector("."+e+"-drag-box"),d=r.querySelector("."+e+"-crop-box"),l=d.querySelector("."+e+"-face");this.container=o,this.cropper=r,this.canvas=s,this.dragBox=c,this.cropBox=d,this.viewBox=r.querySelector("."+e+"-view-box"),this.face=l,s.appendChild(n),dt(t,v),o.insertBefore(r,t.nextSibling),this.isImg||lt(n,w),this.initPreview(),this.bind(),i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,dt(d,v),i.guides||dt(d.getElementsByClassName(e+"-dashed"),v),i.center||dt(d.getElementsByClassName(e+"-center"),v),i.background&&dt(r,e+"-bg"),i.highlight||dt(l,b),i.cropBoxMovable&&(dt(l,y),ft(l,M,a)),i.cropBoxResizable||(dt(d.getElementsByClassName(e+"-line"),v),dt(d.getElementsByClassName(e+"-point"),v)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),et(i.ready)&&yt(t,X,i.ready,{once:!0}),Mt(t,X)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),lt(this.element,v))}},{key:"uncreate",value:function(){var t=this.element;this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?this.xhr.abort():this.isImg?t.complete?clearTimeout(this.timeout):xt(t,L,this.onStart):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Kt,t}},{key:"setDefaults",value:function(t){nt(q,it(t)&&t)}}]),t}();nt(_t.prototype,Pt,qt,$t,Qt,Zt,Ft),exports.default=_t;
},{}],94:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImageUploaderApp=void 0;var e=require("hyperapp"),r=require("sortablejs"),t=o(r),n=require("cropperjs"),a=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}var u={images:[],activeImageIndex:null,activeCropper:null},c={add:function(e){return function(r,t){var n={images:[].concat(i(r.images),[e])};return n.activeImageIndex=n.images.indexOf(e),n}},replace:function(e){return function(r){var t=r.images;return t[e[0]]=e[1],{images:t}}},remove:function(e){return function(r){return{images:r.images.filter(function(r){return r!=e})}}},activeCropper:function(e){return function(r){return{activeCropper:e}}}},p=function(r,n){return(0,e.h)("div",{class:"uk-margin"},(0,e.h)("div",{"uk-form-custom":!0},(0,e.h)("input",{onchange:l(r,n),type:"file"}),(0,e.h)("button",{class:"uk-button uk-button-default",type:"button",tabindex:"-1"},"Add Image")),(0,e.h)("div",{class:"product-create-images",oncreate:function(e){return t.default.create(e)}},r.images.map(function(t){return(0,e.h)("div",null,(0,e.h)("img",{src:t,oncreate:function(e){n.activeCropper(new a.default(e,{aspectRatio:1,minContainerHeight:600,autoCrop:!1,zoomable:!1}))}}),(0,e.h)("button",{class:"uk-button uk-button-default",onclick:function(e){var t=r.activeCropper.getCroppedCanvas({minWidth:100,minHeight:100,maxWidth:4096,maxHeight:4096,fillColor:"#fff",imageSmoothingEnabled:!1,imageSmoothingQuality:"high"}).toDataURL("image/jpeg");n.replace([r.activeImageIndex,t]),r.activeCropper.destroy(),n.activeCropper(null),e.target.style.display="none"},type:"button"},"Done"))})))},l=function(e,r){return function(t){if(console.log("state.activeCropper",e.activeCropper),e.activeCropper){var n=e.activeCropper.element;e.activeCropper.destroy(),r.remove(n.src)}var a=t.target.files[0],o=new FileReader;o.readAsDataURL(a),o.onload=function(){r.add(o.result)},o.onerror=function(e){console.log("Error: ",e)}}},s=exports.ImageUploaderApp=function(r){return(0,e.app)(u,c,p,r)};
},{"hyperapp":11,"sortablejs":101,"cropperjs":102}],79:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateProduct=void 0;var t=require("hyperapp"),e=require("/src/apps/image-uploader"),r=exports.CreateProduct=function(){return function(r,o){return(0,t.h)("div",null,(0,t.h)("form",{class:"uk-form-width-large"},(0,t.h)("fieldset",{class:"uk-fieldset"},(0,t.h)("div",{class:"uk-margin"},(0,t.h)("input",{class:"uk-input uk-width-1-6 uk-margin-right",oninput:n("id"),type:"text",placeholder:"ID"}),(0,t.h)("input",{class:"uk-input uk-width-3-4 uk-margin-left",oninput:n("name"),type:"text",placeholder:"Name"})),(0,t.h)("div",{class:"uk-margin"},(0,t.h)("label",{htmlFor:"description"},"Description"),(0,t.h)("textarea",{rows:"10",class:"uk-textarea",name:"description",oninput:n("description")}))),(0,t.h)("div",{oncreate:function(t){return i=(0,e.ImageUploaderApp)(t)}}),(0,t.h)("button",{class:"uk-button uk-button-default",onclick:function(){return a()&&o.createProduct(u)}},"Create")))}},u={},i=void 0,n=function(t){return function(e){var r=e.target.value;u[t]=r}},a=function(){var t=document.querySelectorAll(".product-create-images img");u.images=[];var e=!0,r=!1,i=void 0;try{for(var n,a=t[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value;u.images.push(o.getAttribute("src"))}}catch(t){r=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw i}}return!0};
},{"hyperapp":11,"/src/apps/image-uploader":94}],80:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SideMenu=void 0;var e=require("hyperapp"),n=require("@hyperapp/router"),u=exports.SideMenu=function(){return function(u,o){return(0,e.h)("div",{id:"side-menu","uk-offcanvas":"overlay: true"},(0,e.h)("div",{class:"uk-offcanvas-bar"},(0,e.h)("button",{style:{color:"black"},class:"uk-offcanvas-close",type:"button","uk-close":!0}),(0,e.h)("br",null),(0,e.h)("ul",{class:"uk-nav-default","uk-nav":!0},(0,e.h)("li",{class:"uk-active"},(0,e.h)(n.Link,{to:"/",onclick:function(){return document.body.click()}},"Home")),!u.logged&&(0,e.h)("li",{class:"uk-active"},(0,e.h)(n.Link,{to:"/login",onclick:function(){return document.body.click()}},"Login")),u.logged&&(0,e.h)("li",{class:"uk-parent uk-preserve-color"},(0,e.h)("a",null,"Admin",(0,e.h)("span",{class:"uk-float-right","uk-icon":"chevron-down"})),(0,e.h)("ul",{class:"uk-nav-sub"},(0,e.h)("li",null,(0,e.h)(n.Link,{to:"/admin/product/create",onclick:function(){return document.body.click()}},(0,e.h)("span",{class:"uk-margin-small-right","uk-icon":"plus"}),"Create Product")))))))}};
},{"hyperapp":11,"@hyperapp/router":12}],81:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthModal=void 0;var e=require("hyperapp"),t=require("@hyperapp/router"),u=require("/src/components/SmallProduct"),r=exports.AuthModal=function(){return function(t,u){return(0,e.h)("div",{class:"uk-width-1-2 uk-margin-auto"},(0,e.h)("h2",null,"Login"),(0,e.h)("input",{class:"uk-input",type:"text",id:"user"}),(0,e.h)("input",{class:"uk-input",type:"password",id:"pass"}),(0,e.h)("button",{class:"uk-button",onclick:function(){u.authenticate({user:document.querySelector("#user").value,pass:document.querySelector("#pass").value}),u.location.go("/")}},"Log in"))}};
},{"hyperapp":11,"@hyperapp/router":12,"/src/components/SmallProduct":93}],4:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Root=void 0;var e=require("hyperapp"),r=require("/src/components/Header"),o=require("/src/components/Footer"),t=require("/src/components/ProductInfo"),u=require("/src/components/ProductIndex"),n=require("/src/components/CreateProduct"),c=require("/src/components/SideMenu"),d=require("/src/components/AuthModal"),s=require("@hyperapp/router"),p=exports.Root=function(p,i){return(0,e.h)("div",null,(0,e.h)("div",{class:"uk-offcanvas-content"},(0,e.h)(r.Header,null),(0,e.h)("div",{class:"uk-container","uk-height-viewport":"offset-top: true; offset-bottom: true"},(0,e.h)(s.Switch,null,(0,e.h)(s.Route,{path:"/",render:u.ProductIndex}),(0,e.h)(s.Route,{path:"/product/:productID",render:t.ProductInfo}),(0,e.h)(s.Route,{path:"/admin/product/create",render:n.CreateProduct}),(0,e.h)(s.Route,{path:"/login",render:d.AuthModal}))),(0,e.h)(o.Footer,null),(0,e.h)(c.SideMenu,null)))};
},{"hyperapp":11,"/src/components/Header":75,"/src/components/Footer":76,"/src/components/ProductInfo":77,"/src/components/ProductIndex":78,"/src/components/CreateProduct":79,"/src/components/SideMenu":80,"/src/components/AuthModal":81,"@hyperapp/router":12}],13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=exports.getProductByID=function(r,t){var e=!0,n=!1,o=void 0;try{for(var u,a=r[Symbol.iterator]();!(e=(u=a.next()).done);e=!0){var i=u.value;if(i.id==t)return i}}catch(r){n=!0,o=r}finally{try{!e&&a.return&&a.return()}finally{if(n)throw o}}return null};
},{}],5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setupActions=void 0;var t=require("@hyperapp/router"),r=require("/src/utils");function e(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}var n=exports.setupActions=function(n){return{location:t.location.actions,createProduct:function(t){return function(r){n.service("product").create(t)}},productCreated:function(t){return function(r){return{products:[].concat(e(r.products),[t])}}},addProducts:function(t){return function(r){return{products:t}}},getProducts:function(){return function(t,r){n.service("product").find().then(function(t){return r.addProducts(t)})}},setActiveProduct:function(t){return function(e,n){(0,r.getProductByID)(e.products,t);return{activeProduct:(0,r.getProductByID)(e.products,t)}}},setActiveImage:function(t){return function(r,e){return{activeImage:t}}},logged:function(t){return function(r,e){return{logged:t}}},authenticate:function(t){var r=t.user,e=t.pass;return function(t,o){n.authenticate({strategy:"local",email:r,password:e}).then(function(t){console.log("authenticated",t),o.logged(!0)}).catch(function(t){console.log("authentication error",t),o.logged(!1)})}}}};
},{"@hyperapp/router":12,"/src/utils":13}],6:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=exports.setupListeners=function(e,t){e.service("product").on("created",function(e){t.productCreated(e)})};
},{}],7:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.state=void 0;var e=require("@hyperapp/router"),t=exports.state={products:[],activeProduct:null,activeImage:0,location:e.location.state,logged:!1};
},{"@hyperapp/router":12}],41:[function(require,module,exports) {
var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}function n(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}exports.stripSlashes=function(t){return t.replace(/^(\/*)|(\/*)$/g,"")};var e=exports._={each:function(t,r){t&&"function"==typeof t.forEach?t.forEach(r):e.isObject(t)&&Object.keys(t).forEach(function(n){return r(t[n],n)})},some:function(t,r){return Object.keys(t).map(function(r){return[t[r],r]}).some(function(t){var[n,e]=t;return r(n,e)})},every:function(t,r){return Object.keys(t).map(function(r){return[t[r],r]}).every(function(t){var[n,e]=t;return r(n,e)})},keys:function(t){return Object.keys(t)},values:function(t){return e.keys(t).map(function(r){return t[r]})},isMatch:function(t,r){return e.keys(r).every(function(n){return t[n]===r[n]})},isEmpty:function(t){return 0===e.keys(t).length},isObject:function(r){return"object"===(void 0===r?"undefined":t(r))&&!Array.isArray(r)&&null!==r},extend:function(){return Object.assign.apply(Object,arguments)},omit:function(t){for(var r=e.extend({},t),n=arguments.length,o=Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return o.forEach(function(t){return delete r[t]}),r},pick:function(t){for(var r={},n=arguments.length,e=Array(n>1?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];return e.forEach(function(n){void 0!==t[n]&&(r[n]=t[n])}),r},merge:function(t,r){return e.isObject(t)&&e.isObject(r)&&Object.keys(r).forEach(function(o){e.isObject(r[o])?(t[o]||Object.assign(t,n({},o,{})),e.merge(t[o],r[o])):Object.assign(t,n({},o,r[o]))}),t}};exports.select=function(t){for(var n=t&&t.query&&t.query.$select,o=arguments.length,u=Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];Array.isArray(n)&&u.length&&n.push.apply(n,u);var i=function(t){return Array.isArray(n)?e.pick.apply(e,[t].concat(r(n))):t};return function(t){return Array.isArray(t)?t.map(i):i(t)}},exports.sorter=function(t){return function(r,n){var o=0;return e.each(t,function(t,e){t=parseInt(t,10),r[e]<n[e]&&(o-=1*t),r[e]>n[e]&&(o+=1*t)}),o}},exports.isPromise=function(t){return e.isObject(t)&&"function"==typeof t.then},exports.makeUrl=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="function"==typeof r.get?r.get.bind(r):function(){},e=n("env")||"production",o=n("host")||"localhost",u="development"===e||"test"===e||void 0===e?"http":"https",c=n("port")||3030;return t=t||"",u+"://"+o+("development"===e||"test"===e||void 0===e?":"+c:"")+"/"+exports.stripSlashes(t)};
},{}],42:[function(require,module,exports) {
var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},{each:r,pick:e}=require("./utils")._;function o(t){var[r,e={}]=t;return{id:r,params:e}}function n(t){var[r,e,o={}]=t;return{id:r,data:e,params:o}}var a=exports.SKIP="undefined"!=typeof Symbol?Symbol("__feathersSkipHooks"):"__feathersSkipHooks";exports.converters={find:function(t){var[r={}]=t;return{params:r}},create:function(t){var[r,e={}]=t;return{data:r,params:e}},get:o,remove:o,update:n,patch:n},exports.createHookObject=function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=exports.converters[t](r);return Object.defineProperty(n,"toJSON",{value:function(){return e(this,"type","method","path","params","id","data","result","error")}}),Object.assign(n,o,{method:t,get path(){var{app:t,service:r}=o;return r&&t&&t.services?Object.keys(t.services).find(function(e){return t.services[e]===r}):null}})},exports.defaultMakeArguments=function(t){var r=[];return void 0!==t.id&&r.push(t.id),t.data&&r.push(t.data),r.push(t.params||{}),r},exports.makeArguments=function(t){switch(t.method){case"find":return[t.params];case"get":case"remove":return[t.id,t.params];case"update":case"patch":return[t.id,t.data,t.params];case"create":return[t.data,t.params]}return exports.defaultMakeArguments(t)},exports.convertHookData=function(e){var o={};return Array.isArray(e)?o={all:e}:"object"!==(void 0===e?"undefined":t(e))?o={all:[e]}:r(e,function(t,r){o[r]=Array.isArray(t)?t:[t]}),o},exports.isHookObject=function(r){return"object"===(void 0===r?"undefined":t(r))&&"string"==typeof r.method&&"string"==typeof r.type},exports.getHooks=function(t,r,e,o){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.__hooks[e][o]||[],i=r.__hooks[e][o]||[];return n?i.concat(a):a.concat(i)},exports.processHooks=function(t,r){var e=this,o=r,n=function(t){if(t){if(t===a)return a;if(!exports.isHookObject(t))throw new Error(o.type+" hook for '"+o.method+"' method returned invalid hook object");o=t}return o},i=Promise.resolve(o);return t.forEach(function(t){var r=t.bind(e);i=(i=2===r.length?i.then(function(t){return t===a?a:new Promise(function(e,o){r(t,function(t,r){return t?o(t):e(r)})})}):i.then(function(t){return t===a?a:r(t)})).then(n)}),i.then(function(){return o}).catch(function(t){throw t.hook=o,t})},exports.enableHooks=function(t,e,o){if("function"==typeof t.hooks)return t;var n={};return o.forEach(function(t){n[t]={}}),Object.defineProperty(t,"__hooks",{value:n}),Object.assign(t,{hooks:function(t){var o=this;return r(t,function(t,n){if(!o.__hooks[n])throw new Error("'"+n+"' is not a valid hook type");var a=exports.convertHookData(t);r(a,function(t,r){if("all"!==r&&-1===e.indexOf(r))throw new Error("'"+r+"' is not a valid hook method")}),e.forEach(function(t){var r=o.__hooks[n][t]||(o.__hooks[n][t]=[]);a.all&&r.push.apply(r,a.all),a[t]&&r.push.apply(r,a[t])})}),this}})};
},{"./utils":41}],43:[function(require,module,exports) {
var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t={find:1,get:2,create:2,update:3,patch:3,remove:2};function o(t){return"object"===(void 0===t?"undefined":e(t))&&null!==t}exports.validateArguments=function(e,r){if("function"==typeof r[r.length-1])throw new Error("Callbacks are no longer supported. Use Promises or async/await instead.");var n=t[e];if(n&&r.length>n)throw new Error("Too many arguments for '"+e+"' method");var a=r[n-1];if(void 0!==a&&!o(a))throw new Error("Params for '"+e+"' method must be an object");switch(e){case"create":if(!o(r[0]))throw new Error("A data object must be provided to the 'create' method");break;case"get":case"remove":case"update":case"patch":if(void 0===r[0])throw new Error("An id must be provided to the '"+e+"' method");if(("update"===e||"patch"===e)&&!o(r[1]))throw new Error("A data object must be provided to the '"+e+"' method")}return!0};
},{}],44:[function(require,module,exports) {
var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},{_:e}=require("./utils"),o=["$sort","$limit","$skip","$select","$populate"];function r(t){if(void 0!==t)return Math.abs(parseInt(t,10))}function n(t,e){if(e&&e.default){var o="number"==typeof t?t:e.default,r="number"==typeof e.max?e.max:Number.MAX_VALUE;return Math.min(o,r)}return t}function i(e){if("object"!==(void 0===e?"undefined":t(e))||Array.isArray(e))return e;var o={};return Object.keys(e).forEach(function(r){o[r]="object"===t(e[r])?e[r]:parseInt(e[r],10)}),o}module.exports=function(t,u){return{filters:{$sort:i(t.$sort),$limit:n(r(t.$limit),u),$skip:r(t.$skip),$select:t.$select,$populate:t.$populate},query:e.omit.apply(e,[t].concat(o))}};
},{"./utils":41}],31:[function(require,module,exports) {
var e=require("./utils"),r=require("./hooks"),u=require("./arguments"),i=require("./filter-query");module.exports=Object.assign({},e,u,{hooks:r,filterQuery:i});
},{"./utils":41,"./hooks":42,"./arguments":43,"./filter-query":44}],32:[function(require,module,exports) {
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Proto=e()}(this,function(){function t(t,e,n,o){return function(){var r=this._super;this._super="function"==typeof e?e:t[n];var i=o.apply(this,arguments);return this._super=r,i}}return{create:function(){var t=Object.create(this),e="string"==typeof t.__init?t.__init:"init";return"function"==typeof t[e]&&t[e].apply(t,arguments),t},mixin:"function"==typeof Object.defineProperty?function(e,n){var o=n||this,r=/\b_super\b/,i=Object.getPrototypeOf(o)||o.prototype,f={},c=e,p=function(t){f[t]||(f[t]=Object.getOwnPropertyDescriptor(c,t))};do{Object.getOwnPropertyNames(c).forEach(p)}while((c=Object.getPrototypeOf(c))&&Object.getPrototypeOf(c));return Object.keys(f).forEach(function(e){var n=f[e];"function"==typeof n.value&&r.test(n.value)&&(n.value=t(i,o[e],e,n.value)),Object.defineProperty(o,e,n)}),o}:function(e,n){var o,r=n||this,i=/\b_super\b/,f=Object.getPrototypeOf(r)||r.prototype;for(var c in e)o=r[c],("function"==typeof e[c]&&"function"==typeof f[c]||"function"==typeof o&&"function"==typeof e[c])&&i.test(e[c])?r[c]=t(f,o,c,e[c]):r[c]=e[c];return r},extend:function(t,e){return this.mixin(t,Object.create(e||this))},proxy:function(t){var e=this[t],n=Array.prototype.slice.call(arguments,1);return n.unshift(this),e.bind.apply(e,n)}}});
},{}],69:[function(require,module,exports) {
var s=1e3,e=60*s,r=60*e,a=24*r,n=365.25*a;function c(c){if(!((c=String(c)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*n;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function t(n){return n>=a?Math.round(n/a)+"d":n>=r?Math.round(n/r)+"h":n>=e?Math.round(n/e)+"m":n>=s?Math.round(n/s)+"s":n+"ms"}function i(n){return o(n,a,"day")||o(n,r,"hour")||o(n,e,"minute")||o(n,s,"second")||n+" ms"}function o(s,e,r){if(!(s<e))return s<1.5*e?Math.floor(s/e)+" "+r:Math.ceil(s/e)+" "+r+"s"}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return c(s);if("number"===r&&!1===isNaN(s))return e.long?i(s):t(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],54:[function(require,module,exports) {
function e(e){var r,s=0;for(r in e)s=(s<<5)-s+e.charCodeAt(r),s|=0;return exports.colors[Math.abs(s)%exports.colors.length]}function r(r){var t;function o(){if(o.enabled){var e=o,r=+new Date,s=r-(t||r);e.diff=s,e.prev=t,e.curr=r,t=r;for(var n=new Array(arguments.length),p=0;p<n.length;p++)n[p]=arguments[p];n[0]=exports.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var a=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(r,s){if("%%"===r)return r;a++;var t=exports.formatters[s];if("function"==typeof t){var o=n[a];r=t.call(e,o),n.splice(a,1),a--}return r}),exports.formatArgs.call(e,n),(o.log||exports.log||console.log.bind(console)).apply(e,n)}}return o.namespace=r,o.enabled=exports.enabled(r),o.useColors=exports.useColors(),o.color=e(r),o.destroy=s,"function"==typeof exports.init&&exports.init(o),exports.instances.push(o),o}function s(){var e=exports.instances.indexOf(this);return-1!==e&&(exports.instances.splice(e,1),!0)}function t(e){var r;exports.save(e),exports.names=[],exports.skips=[];var s=("string"==typeof e?e:"").split(/[\s,]+/),t=s.length;for(r=0;r<t;r++)s[r]&&("-"===(e=s[r].replace(/\*/g,".*?"))[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")));for(r=0;r<exports.instances.length;r++){var o=exports.instances[r];o.enabled=exports.enabled(o.namespace)}}function o(){exports.enable("")}function n(e){if("*"===e[e.length-1])return!0;var r,s;for(r=0,s=exports.skips.length;r<s;r++)if(exports.skips[r].test(e))return!1;for(r=0,s=exports.names.length;r<s;r++)if(exports.names[r].test(e))return!0;return!1}function p(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=r.debug=r.default=r,exports.coerce=p,exports.disable=o,exports.enable=t,exports.enabled=n,exports.humanize=require("ms"),exports.instances=[],exports.names=[],exports.skips=[],exports.formatters={};
},{"ms":69}],40:[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],33:[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){var o=this.useColors;if(e[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+e[0]+(o?"%c ":" ")+"+"+exports.humanize(this.diff),o){var C="color: "+this.color;e.splice(1,0,C,"color: inherit");var t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(r=++t)}),e.splice(r,0,C)}}function t(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function r(e){try{null==e?exports.storage.removeItem("debug"):exports.storage.debug=e}catch(e){}}function n(){var o;try{o=exports.storage.debug}catch(e){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function F(){try{return window.localStorage}catch(e){}}exports=module.exports=require("./debug"),exports.log=t,exports.formatArgs=C,exports.save=r,exports.load=n,exports.useColors=o,exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:F(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},exports.enable(n());
},{"./debug":54,"process":40}],51:[function(require,module,exports) {
function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function t(e){return"function"==typeof e}function s(e){return"number"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}module.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},e.prototype.emit=function(e){var s,r,o,h,v,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((s=arguments[1])instanceof Error)throw s;var u=new Error('Uncaught, unspecified "error" event. ('+s+")");throw u.context=s,u}if(i(r=this._events[e]))return!1;if(t(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),r.apply(this,h)}else if(n(r))for(h=Array.prototype.slice.call(arguments,1),o=(l=r.slice()).length,v=0;v<o;v++)l[v].apply(this,h);return!0},e.prototype.addListener=function(s,r){var o;if(!t(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,t(r.listener)?r.listener:r),this._events[s]?n(this._events[s])?this._events[s].push(r):this._events[s]=[this._events[s],r]:this._events[s]=r,n(this._events[s])&&!this._events[s].warned&&(o=i(this._maxListeners)?e.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[s].length>o&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),"function"==typeof console.trace&&console.trace()),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,s){if(!t(s))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,s.apply(this,arguments))}return i.listener=s,this.on(e,i),this},e.prototype.removeListener=function(e,s){var i,r,o,h;if(!t(s))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(i=this._events[e]).length,r=-1,i===s||t(i.listener)&&i.listener===s)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,s);else if(n(i)){for(h=o;h-- >0;)if(i[h]===s||i[h].listener&&i[h].listener===s){r=h;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,s)}return this},e.prototype.removeAllListeners=function(e){var s,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(s in this._events)"removeListener"!==s&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events={},this}if(t(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},e.prototype.listeners=function(e){return this._events&&this._events[e]?t(this._events[e])?[this._events[e]]:this._events[e].slice():[]},e.prototype.listenerCount=function(e){if(this._events){var s=this._events[e];if(t(s))return 1;if(s)return s.length}return 0},e.listenerCount=function(e,t){return e.listenerCount(t)};
},{}],36:[function(require,module,exports) {
var{EventEmitter:e}=require("events"),t=require("uberproto"),n=exports.eventHook=function(){return function(e){var{app:t,service:n}=e,r=t.eventMappings[e.method],i=n._hookEvents&&-1!==n._hookEvents.indexOf(r);r&&i&&"error"!==e.type&&(Array.isArray(e.result)?e.result:[e.result]).forEach(function(t){return n.emit(r,t,e)})}},r=exports.eventMixin=function(t){if(!t._serviceEvents){var n=this,r="function"==typeof t.on&&"function"==typeof t.emit;"function"!=typeof t.mixin||r||t.mixin(e.prototype),Object.defineProperties(t,{_serviceEvents:{value:Array.isArray(t.events)?t.events.slice():[]},_hookEvents:{value:[]}}),Object.keys(n.eventMappings).forEach(function(e){var r=n.eventMappings[e],i=-1!==t._serviceEvents.indexOf(r);"function"!=typeof t[e]||i||(t._serviceEvents.push(r),t._hookEvents.push(r))})}};module.exports=function(){return function(i){Object.assign(i,{eventMappings:{create:"created",update:"updated",remove:"removed",patch:"patched"}}),i.hooks({finally:n()}),t.mixin(e.prototype,i),i.mixins.push(r)}};
},{"events":51,"uberproto":32}],37:[function(require,module,exports) {
function r(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}var{hooks:e,validateArguments:t,isPromise:o}=require("@feathersjs/commons"),{createHookObject:n,getHooks:i,processHooks:u,enableHooks:s,makeArguments:c}=e,a=exports.hookMixin=function(e){if("function"!=typeof e.hooks){var a=this,f=a.methods,h={};s(e,f,a.hookTypes),f.forEach(function(s){"function"==typeof e[s]&&(h[s]=function(){var e=this,f=Array.from(arguments),h=!0===f[f.length-1]&&f.pop(),l=e._super.bind(e),p=n(s,f,{type:"before",service:e,app:a}),m=[function(r){return t(s,f),r}].concat(r(i(a,e,"before",s)));return u.call(e,m,p).then(function(e){if(void 0!==e.result)return e;var t=l.apply(void 0,r(c(e)));if(!o(t))throw new Error("Service method '"+e.method+"' for '"+e.path+"' service must return a promise");return t.then(function(r){return e.result=r,e})}).then(function(r){return Object.assign({},r,{type:"after"})}).then(function(r){var t=i(a,e,"after",s,!0),o=i(a,e,"finally",s,!0),n=t.concat(o);return u.call(e,n,r)}).then(function(r){return h?r:r.result}).catch(function(r){var t=i(a,e,"error",s,!0),o=i(a,e,"finally",s,!0),n=t.concat(o),c=Object.assign({},r.hook,p,{type:"error",result:null,original:r.hook,error:r});return u.call(e,n,c).catch(function(r){return c.error=r,c}).then(function(r){return h?r.result?r:Promise.reject(r):r.result?r.result:Promise.reject(r.error)})})})}),e.mixin(h)}};module.exports=function(){return function(r){Object.assign(r,{hookTypes:["before","after","error","finally"]}),s(r,r.methods,r.hookTypes),r.mixins.push(a)}};
},{"@feathersjs/commons":31}],24:[function(require,module,exports) {
module.exports="3.1.4";
},{}],23:[function(require,module,exports) {
var e=require("debug")("feathers:application"),{stripSlashes:t}=require("@feathersjs/commons"),i=require("uberproto"),s=require("./events"),r=require("./hooks"),n=require("./version"),o=i.extend({create:null}),u={init:function(){Object.assign(this,{version:n,methods:["find","get","create","update","patch","remove"],mixins:[],services:{},providers:[],_setup:!1,settings:{}}),this.configure(r()),this.configure(s())},get:function(e){return this.settings[e]},set:function(e,t){return this.settings[e]=t,this},disable:function(e){return this.settings[e]=!1,this},disabled:function(e){return!this.settings[e]},enable:function(e){return this.settings[e]=!0,this},enabled:function(e){return!!this.settings[e]},configure:function(e){return e.call(this,this),this},service:function(e,i){if(void 0!==i)throw new Error("Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.");var s=t(e),r=this.services[s];return void 0===r&&"function"==typeof this.defaultService?this.use("/"+s,this.defaultService(s)).service(s):r},use:function(i,s){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof i||""===t(i))throw new Error("'"+i+"' is not a valid service path.");var u=t(i),c="function"==typeof s.service&&s.services,h=this.methods.concat("setup").some(function(e){return s&&"function"==typeof s[e]});if(c){var f=s;return Object.keys(f.services).forEach(function(e){return r.use(u+"/"+e,f.service(e))}),this}if(!h)throw new Error("Invalid service object passed for path `"+u+"`");var a=o.isPrototypeOf(s)?s:o.extend(s);return e("Registering new service at `"+u+"`"),this.mixins.forEach(function(e){return e.call(r,a,u,n)}),"function"==typeof a._setup&&a._setup(this,u),this.providers.forEach(function(e){return e.call(r,a,u,n)}),this._isSetup&&"function"==typeof a.setup&&(e("Setting up service for `"+u+"`"),a.setup(this,u)),this.services[u]=a,this},setup:function(){var t=this;return Object.keys(this.services).forEach(function(i){var s=t.services[i];e("Setting up service for `"+i+"`"),"function"==typeof s.setup&&s.setup(t,i)}),this._isSetup=!0,this}};module.exports=u;
},{"debug":33,"@feathersjs/commons":31,"uberproto":32,"./events":36,"./hooks":37,"./version":24}],14:[function(require,module,exports) {
var{hooks:e}=require("@feathersjs/commons"),r=require("uberproto"),o=require("./application"),i=require("./version");function u(){var e={};return r.mixin(o,e),e.init(),e}u.version=i,u.SKIP=e.SKIP,module.exports=u,module.exports.default=u;
},{"@feathersjs/commons":31,"uberproto":32,"./application":23,"./version":24}],63:[function(require,module,exports) {
var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=require("debug")("@feathersjs/errors");function r(o,n,a,s,i){var c=void 0,l=void 0,u=void 0;(o=o||"Error")instanceof Error?(l=o.message||"Error",o.errors&&(c=o.errors)):"object"===(void 0===o?"undefined":e(o))?(l=o.message||"Error",i=o):l=o,i&&((u=JSON.parse(JSON.stringify(i))).errors?(c=u.errors,delete u.errors):i.errors&&(c=JSON.parse(JSON.stringify(i.errors)))),this.type="FeathersError",this.name=n,this.message=l,this.code=a,this.className=s,this.data=u,this.errors=c||{},t(this.name+"("+this.code+"): "+this.message),t(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function n(e,t){r.call(this,e,"BadRequest",400,"bad-request",t)}function a(e,t){r.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function s(e,t){r.call(this,e,"PaymentError",402,"payment-error",t)}function i(e,t){r.call(this,e,"Forbidden",403,"forbidden",t)}function c(e,t){r.call(this,e,"NotFound",404,"not-found",t)}function l(e,t){r.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function u(e,t){r.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function d(e,t){r.call(this,e,"Timeout",408,"timeout",t)}function h(e,t){r.call(this,e,"Conflict",409,"conflict",t)}function f(e,t){r.call(this,e,"LengthRequired",411,"length-required",t)}function m(e,t){r.call(this,e,"Unprocessable",422,"unprocessable",t)}function p(e,t){r.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function y(e,t){r.call(this,e,"GeneralError",500,"general-error",t)}function b(e,t){r.call(this,e,"NotImplemented",501,"not-implemented",t)}function g(e,t){r.call(this,e,"BadGateway",502,"bad-gateway",t)}function N(e,t){r.call(this,e,"Unavailable",503,"unavailable",t)}o(r,Error),Object.defineProperty(r.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),o(n,r),o(a,r),o(s,r),o(i,r),o(c,r),o(l,r),o(u,r),o(d,r),o(h,r),o(f,r),o(m,r),o(p,r),o(y,r),o(b,r),o(g,r),o(N,r);var E={FeathersError:r,BadRequest:n,NotAuthenticated:a,PaymentError:s,Forbidden:i,NotFound:c,MethodNotAllowed:l,NotAcceptable:u,Timeout:d,Conflict:h,LengthRequired:f,Unprocessable:m,TooManyRequests:p,GeneralError:y,NotImplemented:b,BadGateway:g,Unavailable:N,400:n,401:a,402:s,403:i,404:c,405:l,406:u,408:d,409:h,411:f,422:m,429:p,500:y,501:b,502:g,503:N};function v(t){if(!t)return t;var r=E[t.name],o=r?new r(t.message,t.data):new Error(t.message||t);return"object"===(void 0===t?"undefined":e(t))&&Object.assign(o,t),o}module.exports=Object.assign({convert:v},E);
},{"debug":33}],50:[function(require,module,exports) {
var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var{convert:n,Timeout:r}=require("@feathersjs/errors"),o=require("debug")("@feathersjs/transport-commons/client"),i=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],c=["eventNames","getMaxListeners","setMaxListeners"],a=function(e){c.forEach(function(t){e[t]=function(){var e;if("function"!=typeof this.connection[t])throw new Error("Can not call '"+t+"' on the client service connection");return(e=this.connection)[t].apply(e,arguments)}}),i.forEach(function(t){e[t]=function(e){var n;if("function"!=typeof this.connection[t])throw new Error("Can not call '"+t+"' on the client service connection");var r=this.path+" "+e;o("Calling emitter method "+t+" with namespaced event '"+r+"'");for(var i=arguments.length,c=Array(i>1?i-1:0),a=1;a<i;a++)c[a-1]=arguments[a];var u=(n=this.connection)[t].apply(n,[r].concat(c));return u===this.connection?this:u}})};module.exports=function(){function i(e){t(this,i),this.events=e.events,this.path=e.name,this.connection=e.connection,this.method=e.method,this.timeout=e.timeout||5e3,a(this)}return e(i,[{key:"send",value:function(e){for(var t=this,i=arguments.length,c=Array(i>1?i-1:0),a=1;a<i;a++)c[a-1]=arguments[a];return new Promise(function(i,a){var u,s=setTimeout(function(){return a(new r("Timeout of "+t.timeout+"ms exceeded calling "+e+" on "+t.path,{timeout:t.timeout,method:e,path:t.path}))},t.timeout);c.unshift(e,t.path),c.push(function(e,t){return e=n(e),clearTimeout(s),e?a(e):i(t)}),o("Sending socket."+t.method,c),(u=t.connection)[t.method].apply(u,c)})}},{key:"find",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.send("find",e.query||{})}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("get",e,t.query||{})}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("create",e,t.query||{})}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send("update",e,t,n.query||{})}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.send("patch",e,t,n.query||{})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.send("remove",e,t.query||{})}},{key:"off",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;return"function"==typeof this.connection.off?(o=this.connection).off.apply(o,[this.path+" "+e].concat(n)):0===n.length?this.removeAllListeners(e):this.removeListener.apply(this,[e].concat(n))}}]),i}();
},{"@feathersjs/errors":63,"debug":33}],34:[function(require,module,exports) {
module.exports=require("./lib/client");
},{"./lib/client":50}],20:[function(require,module,exports) {
var e=require("@feathersjs/transport-commons/client");function n(n,t){if(!n)throw new Error("Socket.io connection needs to be provided");var r=function(r){var i=this,o=Object.keys(this.eventMappings||{}).map(function(e){return i.eventMappings[e]}),c=Object.assign({},t,{events:o,name:r,connection:n,method:"emit"});return new e(c)},i=function(){if("function"==typeof this.defaultService)throw new Error("Only one default client provider can be configured");this.io=n,this.defaultService=r};return i.Service=e,i.service=r,i}module.exports=n,module.exports.default=n;
},{"@feathersjs/transport-commons/client":34}],45:[function(require,module,exports) {
function e(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}module.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.header)throw new Error("You need to pass 'options.header' to the populateHeader() hook.");return function(o){return"before"!==o.type?Promise.reject(new Error("The 'populateHeader' hook should only be used as a 'before' hook.")):(o.params.accessToken&&(o.params.headers=Object.assign({},e({},r.header,r.prefix?r.prefix+" "+o.params.accessToken:o.params.accessToken),o.params.headers)),Promise.resolve(o))}};
},{}],46:[function(require,module,exports) {
module.exports=function(){return function(e){var o=e.app;return"before"!==e.type?Promise.reject(new Error("The 'populateAccessToken' hook should only be used as a 'before' hook.")):(Object.assign(e.params,{accessToken:o.get("accessToken")}),Promise.resolve(e))}};
},{}],47:[function(require,module,exports) {
module.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.service)throw new Error("You need to pass 'options.service' to the populateEntity() hook.");if(!e.field)throw new Error("You need to pass 'options.field' to the populateEntity() hook.");if(!e.entity)throw new Error("You need to pass 'options.entity' to the populateEntity() hook.");return function(t){var o=t.app;return"after"!==t.type?Promise.reject(new Error("The 'populateEntity' hook should only be used as an 'after' hook.")):o.passport.verifyJWT(t.result.accessToken).then(function(t){var r=t[e.field];return r?o.service(e.service).get(r):Promise.reject(new Error("Access token payload is missing the '"+e.field+"' field."))}).then(function(r){return t.result[e.entity]=r,o.set(e.entity,r),Promise.resolve(t)})}};
},{}],30:[function(require,module,exports) {
var e=require("./populate-header"),p=require("./populate-access-token"),t=require("./populate-entity"),a={populateHeader:e,populateAccessToken:p,populateEntity:t};module.exports=a;
},{"./populate-header":45,"./populate-access-token":46,"./populate-entity":47}],72:[function(require,module,exports) {
var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(e){this.message=e}function r(r){var n=String(r).replace(/=+$/,"");if(n.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,d,i=0,a=0,w="";d=n.charAt(a++);~d&&(t=i%4?64*t+d:d,i++%4)?w+=String.fromCharCode(255&t>>(-2*i&6)):0)d=e.indexOf(d);return w}o.prototype=new Error,o.prototype.name="InvalidCharacterError",module.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||r;
},{}],66:[function(require,module,exports) {
var e=require("./atob");function r(r){return decodeURIComponent(e(r).replace(/(.)/g,function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}module.exports=function(t){var a=t.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return r(a)}catch(r){return e(a)}};
},{"./atob":72}],60:[function(require,module,exports) {
"use strict";var e=require("./base64_url_decode");function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidTokenError",module.exports=function(o,t){if("string"!=typeof o)throw new r("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(e(o.split(".")[n]))}catch(e){throw new r("Invalid token specified: "+e.message)}},module.exports.InvalidTokenError=r;
},{"./base64_url_decode":66}],38:[function(require,module,exports) {
var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.Storage=function(){function n(){t(this,n),this.store={}}return e(n,[{key:"getItem",value:function(e){return this.store[e]}},{key:"setItem",value:function(e,t){return this.store[e]=t}},{key:"removeItem",value:function(e){return delete this.store[e],this}}]),n}(),exports.payloadIsValid=function(e){return e&&(!e.exp||1e3*e.exp>(new Date).getTime())},exports.getCookie=function(e){if("undefined"!=typeof document){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()}return null},exports.clearCookie=function(e){return"undefined"!=typeof document&&(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"),null};
},{}],26:[function(require,module,exports) {
var e=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=require("@feathersjs/errors"),n=require("jwt-decode"),i=require("debug"),{Storage:r,payloadIsValid:a,getCookie:c,clearCookie:s}=require("./utils"),u=i("@feathersjs/authentication-client");module.exports=function(){function i(e,o){if(t(this,i),e.passport)throw new Error("You have already registered authentication on this client app instance. You only need to do it once.");Object.assign(this,{options:o,app:e,payloadIsValid:a,getCookie:c,clearCookie:s,storage:e.get("storage")||this.getStorage(o.storage)}),this.setJWT=this.setJWT.bind(this),e.set("storage",this.storage),this.getJWT().then(this.setJWT),this.setupSocketListeners()}return e(i,[{key:"setupSocketListeners",value:function(){var e=this,t=this.app,o=t.io||t.primus,n=t.io?"emit":"send",i=t.io?"reconnect":"reconnected";if(o){o.on(i,function(){if(u("Socket reconnected"),o.authenticated){var i={strategy:e.options.jwtStrategy,accessToken:t.get("accessToken")};e.authenticateSocket(i,o,n).then(e.setJWT).catch(function(e){u("Error re-authenticating after socket reconnect",e),o.authenticated=!1,t.emit("reauthentication-error",e)})}});var r=function(){o.io.engine.on("upgrade",function(){if(u("Socket upgrading"),o.authenticated){var i={strategy:e.options.jwtStrategy,accessToken:t.get("accessToken")};e.authenticateSocket(i,o,n).then(e.setJWT).catch(function(e){u("Error re-authenticating after socket upgrade",e),o.authenticated=!1,t.emit("reauthentication-error",e)})}})};o.io&&o.io.engine?r():o.on("connect",r)}}},{key:"connected",value:function(){var e=this,t=this.app;if(t.rest)return Promise.resolve();var o=t.io||t.primus;return o?t.io&&o.connected||t.primus&&3===o.readyState?(u("Socket already connected"),Promise.resolve(o)):new Promise(function(n,i){var r=t.primus?"open":"connect",a=t.io?"disconnect":"end",c=setTimeout(function(){u("Socket connection timed out"),i(new Error("Socket connection timed out"))},e.options.timeout);u("Waiting for socket connection");var s=function(){u("Socket disconnected before it could connect"),o.authenticated=!1};o.once(a,s),o.once(r,function(){u("Socket connected"),u("Removing "+a+" listener"),o.removeListener(a,s),clearTimeout(c),n(o)})}):Promise.reject(new Error("It looks like your client connection has not been configured."))}},{key:"authenticate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.app,i=Promise.resolve(t);return t.strategy||(t.accessToken?t.strategy=this.options.jwtStrategy:i=this.getJWT().then(function(t){return t?{strategy:e.options.jwtStrategy,accessToken:t}:Promise.reject(new o.NotAuthenticated("Could not find stored JWT and no authentication strategy was given"))})),i.then(function(t){return e.connected(n).then(function(o){if(n.rest)return n.service(e.options.path).create(t).then(e.setJWT);var i=n.io?"emit":"send";return e.authenticateSocket(t,o,i).then(e.setJWT)})}).then(function(e){return n.emit("authenticated",e),e})}},{key:"authenticateSocket",value:function(e,t,o){var n=this;return new Promise(function(i,r){var a=setTimeout(function(){u("authenticateSocket timed out"),r(new Error("Authentication timed out"))},n.options.timeout);u("Attempting to authenticate socket"),t[o]("authenticate",e,function(e,o){if(e)return r(e);clearTimeout(a),t.authenticated=!0,u("Socket authenticated!"),i(o)})})}},{key:"logoutSocket",value:function(e,t){var o=this;return new Promise(function(n,i){var r=setTimeout(function(){u("logoutSocket timed out"),i(new Error("Logout timed out"))},o.options.timeout);e[t]("logout",function(t){if(clearTimeout(r),e.authenticated=!1,t)return i(t);n()})})}},{key:"logout",value:function(){var e=this,t=this.app;return t.set("accessToken",null),this.clearCookie(this.options.cookie),Promise.resolve(t.get("storage").removeItem(this.options.storageKey)).then(function(){if(t.io||t.primus){var o=t.io?"emit":"send",n=t.io?t.io:t.primus;return e.logoutSocket(n,o)}}).then(function(e){return t.emit("logout",e),e})}},{key:"setJWT",value:function(e){var t=e&&e.accessToken?e.accessToken:e;return t&&(this.app.set("accessToken",t),this.app.get("storage").setItem(this.options.storageKey,t)),Promise.resolve(e)}},{key:"getJWT",value:function(){var e=this,t=this.app;return new Promise(function(o,i){var r=t.get("accessToken");return r?o(r):Promise.resolve(e.storage.getItem(e.options.storageKey)).then(function(t){var i=t||e.getCookie(e.options.cookie);return i&&"null"!==i&&!e.payloadIsValid(n(i))&&(i=void 0),o(i)}).catch(i)})}},{key:"verifyJWT",value:function(e){if("string"!=typeof e)return Promise.reject(new Error("Token provided to verifyJWT is missing or not a string"));try{var t=n(e);return this.payloadIsValid(t)?Promise.resolve(t):Promise.reject(new Error("Invalid token: expired"))}catch(e){return Promise.reject(new Error("Cannot decode malformed token."))}}},{key:"getStorage",value:function(e){return e||new r}}]),i}();
},{"@feathersjs/errors":63,"jwt-decode":60,"debug":33,"./utils":38}],21:[function(require,module,exports) {
var e=require("./hooks/index"),t=require("./passport"),o={header:"Authorization",cookie:"feathers-jwt",storageKey:"feathers-jwt",jwtStrategy:"jwt",path:"/authentication",entity:"user",service:"users",timeout:5e3};function s(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.assign({},o,s);return function(){var o=this;o.passport=new t(o,r),o.authenticate=o.passport.authenticate.bind(o.passport),o.logout=o.passport.logout.bind(o.passport),o.mixins.push(function(t){if(o.version<"3.0.0")throw new Error("This version of @feathersjs/authentication-client only works with @feathersjs/feathers v3.0.0 or later.");t.hooks({before:e.populateAccessToken(r)})}),o.rest&&o.mixins.push(function(t){t.hooks({before:e.populateHeader(r)})})}}module.exports=s,module.exports.default=s,module.exports.defaults=o;
},{"./hooks/index":30,"./passport":26}],55:[function(require,module,exports) {
var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];module.exports=function(t){var s=t,o=t.indexOf("["),a=t.indexOf("]");-1!=o&&-1!=a&&(t=t.substring(0,o)+t.substring(o,a).replace(/:/g,";")+t.substring(a,t.length));for(var u=r.exec(t||""),i={},h=14;h--;)i[e[h]]=u[h]||"";return-1!=o&&-1!=a&&(i.source=s,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i};
},{}],27:[function(require,module,exports) {
var global = (1,eval)("this");
var t=(0,eval)("this"),o=require("parseuri"),r=require("debug")("socket.io-client:url");function p(p,s){var e=p;s=s||t.location,null==p&&(p=s.protocol+"//"+s.host),"string"==typeof p&&("/"===p.charAt(0)&&(p="/"===p.charAt(1)?s.protocol+p:s.host+p),/^(https?|wss?):\/\//.test(p)||(r("protocol-less url %s",p),p=void 0!==s?s.protocol+"//"+p:"https://"+p),r("parse %s",p),e=o(p)),e.port||(/^(http|ws)$/.test(e.protocol)?e.port="80":/^(http|ws)s$/.test(e.protocol)&&(e.port="443")),e.path=e.path||"/";var l=-1!==e.host.indexOf(":")?"["+e.host+"]":e.host;return e.id=e.protocol+"://"+l+":"+e.port,e.href=e.protocol+"://"+l+(s&&s.port===e.port?"":":"+e.port),e}module.exports=p;
},{"parseuri":55,"debug":33}],53:[function(require,module,exports) {
function t(t){if(t)return e(t)}function e(e){for(var s in t.prototype)e[s]=t.prototype[s];return e}"undefined"!=typeof module&&(module.exports=t),t.prototype.on=t.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},t.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((s=i[r])===e||s.fn===e){i.splice(r,1);break}return this},t.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),s=this._callbacks["$"+t];if(s)for(var i=0,r=(s=s.slice(0)).length;i<r;++i)s[i].apply(this,e);return this},t.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},t.prototype.hasListeners=function(t){return!!this.listeners(t).length};
},{}],64:[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],49:[function(require,module,exports) {
var global = (1,eval)("this");
var f=(0,eval)("this");module.exports=n;var r="function"==typeof f.Buffer&&"function"==typeof f.Buffer.isBuffer,e="function"==typeof f.ArrayBuffer,u=e&&"function"==typeof f.ArrayBuffer.isView?f.ArrayBuffer.isView:function(r){return r.buffer instanceof f.ArrayBuffer};function n(n){return r&&f.Buffer.isBuffer(n)||e&&(n instanceof f.ArrayBuffer||u(n))}
},{}],48:[function(require,module,exports) {
var global = (1,eval)("this");
var e=(0,eval)("this"),t=require("isarray"),r=require("./is-buffer"),n=Object.prototype.toString,o="function"==typeof e.Blob||"[object BlobConstructor]"===n.call(e.Blob),a="function"==typeof e.File||"[object FileConstructor]"===n.call(e.File);function f(e,n){if(!e)return e;if(r(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(t(e)){for(var a=new Array(e.length),i=0;i<e.length;i++)a[i]=f(e[i],n);return a}if("object"==typeof e&&!(e instanceof Date)){a={};for(var u in e)a[u]=f(e[u],n);return a}return e}function i(e,r){if(!e)return e;if(e&&e._placeholder)return r[e.num];if(t(e))for(var n=0;n<e.length;n++)e[n]=i(e[n],r);else if("object"==typeof e)for(var o in e)e[o]=i(e[o],r);return e}exports.deconstructPacket=function(e){var t=[],r=e.data,n=e;return n.data=f(r,t),n.attachments=t.length,{packet:n,buffers:t}},exports.reconstructPacket=function(e,t){return e.data=i(e.data,t),e.attachments=void 0,e},exports.removeBlobs=function(e,n){var f=0,i=e;!function e(u,c,l){if(!u)return u;if(o&&u instanceof Blob||a&&u instanceof File){f++;var s=new FileReader;s.onload=function(){l?l[c]=this.result:i=this.result,--f||n(i)},s.readAsArrayBuffer(u)}else if(t(u))for(var h=0;h<u.length;h++)e(u[h],h,u);else if("object"==typeof u&&!r(u))for(var p in u)e(u[p],p,u)}(i),f||n(i)};
},{"isarray":64,"./is-buffer":49}],35:[function(require,module,exports) {
var t=require("debug")("socket.io-parser"),r=require("component-emitter"),e=require("./binary"),n=require("isarray"),o=require("./is-buffer");function s(){}exports.protocol=4,exports.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],exports.CONNECT=0,exports.DISCONNECT=1,exports.EVENT=2,exports.ACK=3,exports.ERROR=4,exports.BINARY_EVENT=5,exports.BINARY_ACK=6,exports.Encoder=s,exports.Decoder=p;var i=exports.ERROR+'"encode error"';function c(r){var e=""+r.type;if(exports.BINARY_EVENT!==r.type&&exports.BINARY_ACK!==r.type||(e+=r.attachments+"-"),r.nsp&&"/"!==r.nsp&&(e+=r.nsp+","),null!=r.id&&(e+=r.id),null!=r.data){var n=a(r.data);if(!1===n)return i;e+=n}return t("encoded %j as %s",r,e),e}function a(t){try{return JSON.stringify(t)}catch(t){return!1}}function u(t,r){e.removeBlobs(t,function(t){var n=e.deconstructPacket(t),o=c(n.packet),s=n.buffers;s.unshift(o),r(s)})}function p(){this.reconstructor=null}function f(r){var e=0,o={type:Number(r.charAt(0))};if(null==exports.types[o.type])return N("unknown packet type "+o.type);if(exports.BINARY_EVENT===o.type||exports.BINARY_ACK===o.type){for(var s="";"-"!==r.charAt(++e)&&(s+=r.charAt(e),e!=r.length););if(s!=Number(s)||"-"!==r.charAt(e))throw new Error("Illegal attachments");o.attachments=Number(s)}if("/"===r.charAt(e+1))for(o.nsp="";++e;){if(","===(c=r.charAt(e)))break;if(o.nsp+=c,e===r.length)break}else o.nsp="/";var i=r.charAt(e+1);if(""!==i&&Number(i)==i){for(o.id="";++e;){var c;if(null==(c=r.charAt(e))||Number(c)!=c){--e;break}if(o.id+=r.charAt(e),e===r.length)break}o.id=Number(o.id)}if(r.charAt(++e)){var a=h(r.substr(e));if(!(!1!==a&&(o.type===exports.ERROR||n(a))))return N("invalid payload");o.data=a}return t("decoded %s as %j",r,o),o}function h(t){try{return JSON.parse(t)}catch(t){return!1}}function d(t){this.reconPack=t,this.buffers=[]}function N(t){return{type:exports.ERROR,data:"parser error: "+t}}s.prototype.encode=function(r,e){(t("encoding packet %j",r),exports.BINARY_EVENT===r.type||exports.BINARY_ACK===r.type)?u(r,e):e([c(r)])},r(p.prototype),p.prototype.add=function(t){var r;if("string"==typeof t)r=f(t),exports.BINARY_EVENT===r.type||exports.BINARY_ACK===r.type?(this.reconstructor=new d(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!o(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",r))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var r=e.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};
},{"debug":33,"component-emitter":53,"./binary":48,"isarray":64,"./is-buffer":49}],97:[function(require,module,exports) {
try{module.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){module.exports=!1}
},{}],89:[function(require,module,exports) {
var global = (1,eval)("this");
var e=(0,eval)("this"),t=require("has-cors");module.exports=function(n){var r=n.xdomain,c=n.xscheme,i=n.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||t))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!c&&i)return new XDomainRequest}catch(e){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}};
},{"has-cors":97}],73:[function(require,module,exports) {
module.exports=Object.keys||function(r){var e=[],t=Object.prototype.hasOwnProperty;for(var o in r)t.call(r,o)&&e.push(o);return e};
},{}],62:[function(require,module,exports) {
var global = (1,eval)("this");
var t=(0,eval)("this"),r=require("isarray"),e=Object.prototype.toString,o="function"==typeof t.Blob||"[object BlobConstructor]"===e.call(t.Blob),f="function"==typeof t.File||"[object FileConstructor]"===e.call(t.File);function n(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var i=0,u=e.length;i<u;i++)if(n(e[i]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||"function"==typeof t.ArrayBuffer&&e instanceof ArrayBuffer||o&&e instanceof Blob||f&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return n(e.toJSON(),!0);for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)&&n(e[c]))return!0;return!1}module.exports=n;
},{"isarray":64}],87:[function(require,module,exports) {
module.exports=function(r,e,n){var t=r.byteLength;if(e=e||0,n=n||t,r.slice)return r.slice(e,n);if(e<0&&(e+=t),n<0&&(n+=t),n>t&&(n=t),e>=t||e>=n||0===t)return new ArrayBuffer(0);for(var f=new Uint8Array(r),i=new Uint8Array(n-e),u=e,a=0;u<n;u++,a++)i[a]=f[u];return i.buffer};
},{}],85:[function(require,module,exports) {
function n(n,t,u){var r=!1;return u=u||o,c.count=n,0===n?t():c;function c(n,o){if(c.count<=0)throw new Error("after called too many times");--c.count,n?(r=!0,t(n),t=u):0!==c.count||r||t(null,o)}}function o(){}module.exports=n;
},{}],74:[function(require,module,exports) {
var global = (1,eval)("this");
var r=(0,eval)("this");!function(t){var e="object"==typeof exports&&exports,n="object"==typeof module&&module&&module.exports==e&&module,o="object"==typeof r&&r;o.global!==o&&o.window!==o||(t=o);var i,f,u,a=String.fromCharCode;function c(r){for(var t,e,n=[],o=0,i=r.length;o<i;)(t=r.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(e=r.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&e)+65536):(n.push(t),o--):n.push(t);return n}function d(r,t){if(r>=55296&&r<=57343){if(t)throw Error("Lone surrogate U+"+r.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(r,t){return a(r>>t&63|128)}function v(r,t){if(0==(4294967168&r))return a(r);var e="";return 0==(4294965248&r)?e=a(r>>6&31|192):0==(4294901760&r)?(d(r,t)||(r=65533),e=a(r>>12&15|224),e+=l(r,6)):0==(4292870144&r)&&(e=a(r>>18&7|240),e+=l(r,12),e+=l(r,6)),e+=a(63&r|128)}function h(){if(u>=f)throw Error("Invalid byte index");var r=255&i[u];if(u++,128==(192&r))return 63&r;throw Error("Invalid continuation byte")}function s(r){var t,e;if(u>f)throw Error("Invalid byte index");if(u==f)return!1;if(t=255&i[u],u++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|h())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|h()<<6|h())>=2048)return d(e,r)?e:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(7&t)<<18|h()<<12|h()<<6|h())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}var p={version:"2.1.2",encode:function(r,t){for(var e=!1!==(t=t||{}).strict,n=c(r),o=n.length,i=-1,f="";++i<o;)f+=v(n[i],e);return f},decode:function(r,t){var e=!1!==(t=t||{}).strict;i=c(r),f=i.length,u=0;for(var n,o=[];!1!==(n=s(e));)o.push(n);return function(r){for(var t,e=r.length,n=-1,o="";++n<e;)(t=r[n])>65535&&(o+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=a(t);return o}(o)}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return p});else if(e&&!e.nodeType)if(n)n.exports=p;else{var y={}.hasOwnProperty;for(var b in p)y.call(p,b)&&(e[b]=p[b])}else t.utf8=p}(this);
},{}],86:[function(require,module,exports) {
!function(){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),t=0;t<r.length;t++)e[r.charCodeAt(t)]=t;exports.encode=function(e){var t,n=new Uint8Array(e),o=n.length,a="";for(t=0;t<o;t+=3)a+=r[n[t]>>2],a+=r[(3&n[t])<<4|n[t+1]>>4],a+=r[(15&n[t+1])<<2|n[t+2]>>6],a+=r[63&n[t+2]];return o%3==2?a=a.substring(0,a.length-1)+"=":o%3==1&&(a=a.substring(0,a.length-2)+"=="),a},exports.decode=function(r){var t,n,o,a,h,c=.75*r.length,g=r.length,i=0;"="===r[r.length-1]&&(c--,"="===r[r.length-2]&&c--);var u=new ArrayBuffer(c),A=new Uint8Array(u);for(t=0;t<g;t+=4)n=e[r.charCodeAt(t)],o=e[r.charCodeAt(t+1)],a=e[r.charCodeAt(t+2)],h=e[r.charCodeAt(t+3)],A[i++]=n<<2|o>>4,A[i++]=(15&o)<<4|a>>2,A[i++]=(3&a)<<6|63&h;return u}}();
},{}],88:[function(require,module,exports) {
var global = (1,eval)("this");
var e=(0,eval)("this"),t=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),n=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=t&&t.prototype.append&&t.prototype.getBlob;function i(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}e[t]=n}}}function b(e,r){r=r||{};var n=new t;i(e);for(var o=0;o<e.length;o++)n.append(e[o]);return r.type?n.getBlob(r.type):n.getBlob()}function f(e,t){return i(e),new Blob(e,t||{})}module.exports=r?n?e.Blob:f:o?b:void 0;
},{}],67:[function(require,module,exports) {
var global = (1,eval)("this");
var e,r=(0,eval)("this"),t=require("./keys"),n=require("has-binary2"),a=require("arraybuffer.slice"),o=require("after"),f=require("./utf8");r&&r.ArrayBuffer&&(e=require("base64-arraybuffer"));var i="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),c=i||u;exports.protocol=3;var d=exports.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=t(d),l={type:"error",data:"parser error"},y=require("blob");function p(e,r){return r("b"+exports.packets[e.type]+e.data.data)}function g(e,r,t){if(!r)return exports.encodeBase64Packet(e,t);var n=e.data,a=new Uint8Array(n),o=new Uint8Array(1+n.byteLength);o[0]=d[e.type];for(var f=0;f<a.length;f++)o[f+1]=a[f];return t(o.buffer)}function h(e,r,t){if(!r)return exports.encodeBase64Packet(e,t);var n=new FileReader;return n.onload=function(){e.data=n.result,exports.encodePacket(e,r,!0,t)},n.readAsArrayBuffer(e.data)}function v(e,r,t){if(!r)return exports.encodeBase64Packet(e,t);if(c)return h(e,r,t);var n=new Uint8Array(1);return n[0]=d[e.type],t(new y([n.buffer,e.data]))}function A(e){try{e=f.decode(e,{strict:!1})}catch(e){return!1}return e}function b(e,r,t){for(var n=new Array(e.length),a=o(e.length,t),f=function(e,t,a){r(t,function(r,t){n[e]=t,a(r,n)})},i=0;i<e.length;i++)f(i,e[i],a)}exports.encodePacket=function(e,t,n,a){"function"==typeof t&&(a=t,t=!1),"function"==typeof n&&(a=n,n=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if(r.ArrayBuffer&&o instanceof ArrayBuffer)return g(e,t,a);if(y&&o instanceof r.Blob)return v(e,t,a);if(o&&o.base64)return p(e,a);var i=d[e.type];return void 0!==e.data&&(i+=n?f.encode(String(e.data),{strict:!1}):String(e.data)),a(""+i)},exports.encodeBase64Packet=function(e,t){var n,a="b"+exports.packets[e.type];if(y&&e.data instanceof r.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];t(a+e)},o.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(r){for(var f=new Uint8Array(e.data),i=new Array(f.length),u=0;u<f.length;u++)i[u]=f[u];n=String.fromCharCode.apply(null,i)}return a+=r.btoa(n),t(a)},exports.decodePacket=function(e,r,t){if(void 0===e)return l;if("string"==typeof e){if("b"===e.charAt(0))return exports.decodeBase64Packet(e.substr(1),r);if(t&&!1===(e=A(e)))return l;var n=e.charAt(0);return Number(n)==n&&s[n]?e.length>1?{type:s[n],data:e.substring(1)}:{type:s[n]}:l}n=new Uint8Array(e)[0];var o=a(e,1);return y&&"blob"===r&&(o=new y([o])),{type:s[n],data:o}},exports.decodeBase64Packet=function(r,t){var n=s[r.charAt(0)];if(!e)return{type:n,data:{base64:!0,data:r.substr(1)}};var a=e.decode(r.substr(1));return"blob"===t&&y&&(a=new y([a])),{type:n,data:a}},exports.encodePayload=function(e,r,t){"function"==typeof r&&(t=r,r=null);var a=n(e);if(r&&a)return y&&!c?exports.encodePayloadAsBlob(e,t):exports.encodePayloadAsArrayBuffer(e,t);if(!e.length)return t("0:");b(e,function(e,t){exports.encodePacket(e,!!a&&r,!1,function(e){t(null,function(e){return e.length+":"+e}(e))})},function(e,r){return t(r.join(""))})},exports.decodePayload=function(e,r,t){if("string"!=typeof e)return exports.decodePayloadAsBinary(e,r,t);var n;if("function"==typeof r&&(t=r,r=null),""===e)return t(l,0,1);for(var a,o,f="",i=0,u=e.length;i<u;i++){var c=e.charAt(i);if(":"===c){if(""===f||f!=(a=Number(f)))return t(l,0,1);if(f!=(o=e.substr(i+1,a)).length)return t(l,0,1);if(o.length){if(n=exports.decodePacket(o,r,!1),l.type===n.type&&l.data===n.data)return t(l,0,1);if(!1===t(n,i+a,u))return}i+=a,f=""}else f+=c}return""!==f?t(l,0,1):void 0},exports.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));b(e,function(e,r){exports.encodePacket(e,!0,!0,function(e){return r(null,e)})},function(e,t){var n=t.reduce(function(e,r){var t;return e+(t="string"==typeof r?r.length:r.byteLength).toString().length+t+2},0),a=new Uint8Array(n),o=0;return t.forEach(function(e){var r="string"==typeof e,t=e;if(r){for(var n=new Uint8Array(e.length),f=0;f<e.length;f++)n[f]=e.charCodeAt(f);t=n.buffer}a[o++]=r?0:1;var i=t.byteLength.toString();for(f=0;f<i.length;f++)a[o++]=parseInt(i[f]);a[o++]=255;for(n=new Uint8Array(t),f=0;f<n.length;f++)a[o++]=n[f]}),r(a.buffer)})},exports.encodePayloadAsBlob=function(e,r){b(e,function(e,r){exports.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);e=n.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),f=new Uint8Array(o.length+1);for(a=0;a<o.length;a++)f[a]=parseInt(o[a]);if(f[o.length]=255,y){var i=new y([t.buffer,f.buffer,e]);r(null,i)}})},function(e,t){return r(new y(t))})},exports.decodePayloadAsBinary=function(e,r,t){"function"==typeof r&&(t=r,r=null);for(var n=e,o=[];n.byteLength>0;){for(var f=new Uint8Array(n),i=0===f[0],u="",c=1;255!==f[c];c++){if(u.length>310)return t(l,0,1);u+=f[c]}n=a(n,2+u.length),u=parseInt(u);var d=a(n,0,u);if(i)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var s=new Uint8Array(d);d="";for(c=0;c<s.length;c++)d+=String.fromCharCode(s[c])}o.push(d),n=a(n,u)}var y=o.length;o.forEach(function(e,n){t(exports.decodePacket(e,r,!0),n,y)})};
},{"./keys":73,"has-binary2":62,"arraybuffer.slice":87,"after":85,"./utf8":74,"base64-arraybuffer":86,"blob":88}],70:[function(require,module,exports) {
var t=require("engine.io-parser"),e=require("component-emitter");function s(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}module.exports=s,e(s.prototype),s.prototype.onError=function(t,e){var s=new Error(t);return s.type="TransportError",s.description=e,this.emit("error",s),this},s.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var s=t.decodePacket(e,this.socket.binaryType);this.onPacket(s)},s.prototype.onPacket=function(t){this.emit("packet",t)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")};
},{"engine.io-parser":67,"component-emitter":53}],59:[function(require,module,exports) {
exports.encode=function(e){var n="";for(var o in e)e.hasOwnProperty(o)&&(n.length&&(n+="&"),n+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n},exports.decode=function(e){for(var n={},o=e.split("&"),t=0,r=o.length;t<r;t++){var d=o[t].split("=");n[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return n};
},{}],100:[function(require,module,exports) {
module.exports=function(o,t){var p=function(){};p.prototype=t.prototype,o.prototype=new p,o.prototype.constructor=o};
},{}],99:[function(require,module,exports) {
"use strict";var r,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),t=64,n={},o=0,u=0;function a(r){var n="";do{n=e[r%t]+n,r=Math.floor(r/t)}while(r>0);return n}function c(r){var e=0;for(u=0;u<r.length;u++)e=e*t+n[r.charAt(u)];return e}function f(){var e=a(+new Date);return e!==r?(o=0,r=e):e+"."+a(o++)}for(;u<t;u++)n[e[u]]=u;f.encode=a,f.decode=c,module.exports=f;
},{}],96:[function(require,module,exports) {
var t=require("../transport"),e=require("parseqs"),i=require("engine.io-parser"),o=require("component-inherit"),n=require("yeast"),r=require("debug")("engine.io-client:polling");module.exports=p;var s=null!=new(require("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function p(e){var i=e&&e.forceBase64;s&&!i||(this.supportsBinary=!1),t.call(this,e)}o(p,t),p.prototype.name="polling",p.prototype.doOpen=function(){this.poll()},p.prototype.pause=function(t){var e=this;function i(){r("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(r("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){r("pre-pause polling complete"),--o||i()})),this.writable||(r("we are currently writing - waiting to pause"),o++,this.once("drain",function(){r("pre-pause writing complete"),--o||i()}))}else i()},p.prototype.poll=function(){r("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},p.prototype.onData=function(t){var e=this;r("polling got data %s",t);i.decodePayload(t,this.socket.binaryType,function(t,i,o){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():r('ignoring poll - transport state "%s"',this.readyState))},p.prototype.doClose=function(){var t=this;function e(){r("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(r("transport open - closing"),e()):(r("transport not open - deferring close"),this.once("open",e))},p.prototype.write=function(t){var e=this;this.writable=!1;var o=function(){e.writable=!0,e.emit("drain")};i.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,o)})},p.prototype.uri=function(){var t=this.query||{},i=this.secure?"https":"http",o="";return!1!==this.timestampRequests&&(t[this.timestampParam]=n()),this.supportsBinary||t.sid||(t.b64=1),t=e.encode(t),this.port&&("https"===i&&443!==Number(this.port)||"http"===i&&80!==Number(this.port))&&(o=":"+this.port),t.length&&(t="?"+t),i+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+o+this.path+t};
},{"../transport":70,"parseqs":59,"engine.io-parser":67,"component-inherit":100,"yeast":99,"debug":33,"xmlhttprequest-ssl":89}],90:[function(require,module,exports) {
var global = (1,eval)("this");
var t=(0,eval)("this"),e=require("xmlhttprequest-ssl"),s=require("./polling"),r=require("component-emitter"),i=require("component-inherit"),o=require("debug")("engine.io-client:polling-xhr");function a(){}function n(e){if(s.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var r="https:"===location.protocol,i=location.port;i||(i=r?443:80),this.xd=e.hostname!==t.location.hostname||i!==e.port,this.xs=e.secure!==r}}function h(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function u(){for(var t in h.requests)h.requests.hasOwnProperty(t)&&h.requests[t].abort()}module.exports=n,module.exports.Request=h,i(n,s),n.prototype.supportsBinary=!0,n.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new h(t)},n.prototype.doWrite=function(t,e){var s="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:s}),i=this;r.on("success",e),r.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=r},n.prototype.doPoll=function(){o("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},r(h.prototype),h.prototype.create=function(){var s={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};s.pfx=this.pfx,s.key=this.key,s.passphrase=this.passphrase,s.cert=this.cert,s.ca=this.ca,s.ciphers=this.ciphers,s.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new e(s),i=this;try{o("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.extraHeaders[a])}catch(t){}if("POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{r.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){i.onLoad()},r.onerror=function(){i.onError(r.responseText)}):r.onreadystatechange=function(){if(2===r.readyState)try{var t=r.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(r.responseType="arraybuffer")}catch(t){}4===r.readyState&&(200===r.status||1223===r.status?i.onLoad():setTimeout(function(){i.onError(r.status)},0))},o("xhr data %s",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){i.onError(t)},0)}t.document&&(this.index=h.requestsCount++,h.requests[this.index]=this)},h.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},h.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},h.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},h.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a,e)try{this.xhr.abort()}catch(t){}t.document&&delete h.requests[this.index],this.xhr=null}},h.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},h.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},h.prototype.abort=function(){this.cleanup()},h.requestsCount=0,h.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",u):t.addEventListener&&t.addEventListener("beforeunload",u,!1));
},{"xmlhttprequest-ssl":89,"./polling":96,"component-emitter":53,"component-inherit":100,"debug":33}],91:[function(require,module,exports) {
var global = (1,eval)("this");
var e=(0,eval)("this"),t=require("./polling"),r=require("component-inherit");module.exports=s;var i,o=/\n/g,n=/\\n/g;function a(){}function s(r){t.call(this,r),this.query=this.query||{},i||(e.___eio||(e.___eio=[]),i=e.___eio),this.index=i.length;var o=this;i.push(function(e){o.onData(e)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){o.script&&(o.script.onerror=a)},!1)}r(s,t),s.prototype.supportsBinary=!1,s.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),t.prototype.doClose.call(this)},s.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},s.prototype.doWrite=function(e,t){var r=this;if(!this.form){var i,a=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=c,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}function m(){d(),t()}function d(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';i=document.createElement(e)}catch(e){(i=document.createElement("iframe")).name=r.iframeId,i.src="javascript:0"}i.id=r.iframeId,r.form.appendChild(i),r.iframe=i}this.form.action=this.uri(),d(),e=e.replace(n,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&m()}:this.iframe.onload=m};
},{"./polling":96,"component-inherit":100}],98:[function(require,module,exports) {

},{}],92:[function(require,module,exports) {
var global = (1,eval)("this");
var e,t=(0,eval)("this"),s=require("../transport"),r=require("engine.io-parser"),o=require("parseqs"),i=require("component-inherit"),n=require("yeast"),a=require("debug")("engine.io-client:websocket"),h=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{e=require("ws")}catch(e){}var p=h;function c(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=h&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(p=e),s.call(this,t)}p||"undefined"!=typeof window||(p=e),module.exports=c,i(c,s),c.prototype.name="websocket",c.prototype.supportsBinary=!0,c.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,s={agent:this.agent,perMessageDeflate:this.perMessageDeflate};s.pfx=this.pfx,s.key=this.key,s.passphrase=this.passphrase,s.cert=this.cert,s.ca=this.ca,s.ciphers=this.ciphers,s.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(s.headers=this.extraHeaders),this.localAddress&&(s.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new p(e,t):new p(e):new p(e,t,s)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},c.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},c.prototype.write=function(e){var s=this;this.writable=!1;for(var o=e.length,i=0,n=o;i<n;i++)!function(e){r.encodePacket(e,s.supportsBinary,function(r){if(!s.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),s.perMessageDeflate)("string"==typeof r?t.Buffer.byteLength(r):r.length)<s.perMessageDeflate.threshold&&(i.compress=!1)}try{s.usingBrowserWebSocket?s.ws.send(r):s.ws.send(r,i)}catch(e){a("websocket closed before onclose event")}--o||h()})}(e[i]);function h(){s.emit("flush"),setTimeout(function(){s.writable=!0,s.emit("drain")},0)}},c.prototype.onClose=function(){s.prototype.onClose.call(this)},c.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",s="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(s=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=n()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+s+this.path+e},c.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===c.prototype.name)};
},{"../transport":70,"engine.io-parser":67,"parseqs":59,"component-inherit":100,"yeast":99,"debug":33,"ws":98}],71:[function(require,module,exports) {
var global = (1,eval)("this");
var e=(0,eval)("this"),o=require("xmlhttprequest-ssl"),r=require("./polling-xhr"),t=require("./polling-jsonp"),n=require("./websocket");function i(n){var i=!1,s=!1,l=!1!==n.jsonp;if(e.location){var p="https:"===location.protocol,a=location.port;a||(a=p?443:80),i=n.hostname!==location.hostname||a!==n.port,s=n.secure!==p}if(n.xdomain=i,n.xscheme=s,"open"in new o(n)&&!n.forceJSONP)return new r(n);if(!l)throw new Error("JSONP disabled");return new t(n)}exports.polling=i,exports.websocket=n;
},{"xmlhttprequest-ssl":89,"./polling-xhr":90,"./polling-jsonp":91,"./websocket":92}],57:[function(require,module,exports) {
var r=[].indexOf;module.exports=function(e,n){if(r)return e.indexOf(n);for(var f=0;f<e.length;++f)if(e[f]===n)return f;return-1};
},{}],65:[function(require,module,exports) {
var global = (1,eval)("this");
var e=(0,eval)("this"),t=require("./transports/index"),r=require("component-emitter"),s=require("debug")("engine.io-client:socket"),i=require("indexof"),o=require("engine.io-parser"),n=require("parseuri"),a=require("parseqs");function p(t,r){if(!(this instanceof p))return new p(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=null),t?(t=n(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=n(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=a.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.transportOptions=r.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized||r.rejectUnauthorized,this.forceNode=!!r.forceNode;var s="object"==typeof e&&e;s.global===s&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function h(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}module.exports=p,p.priorWebsocketSuccess=!1,r(p.prototype),p.protocol=o.protocol,p.Socket=p,p.Transport=require("./transport"),p.transports=require("./transports/index"),p.parser=require("engine.io-parser"),p.prototype.createTransport=function(e){s('creating transport "%s"',e);var r=h(this.query);r.EIO=o.protocol,r.transport=e;var i=this.transportOptions[e]||{};return this.id&&(r.sid=this.id),new t[e]({query:r,socket:this,agent:i.agent||this.agent,hostname:i.hostname||this.hostname,port:i.port||this.port,secure:i.secure||this.secure,path:i.path||this.path,forceJSONP:i.forceJSONP||this.forceJSONP,jsonp:i.jsonp||this.jsonp,forceBase64:i.forceBase64||this.forceBase64,enablesXDR:i.enablesXDR||this.enablesXDR,timestampRequests:i.timestampRequests||this.timestampRequests,timestampParam:i.timestampParam||this.timestampParam,policyPort:i.policyPort||this.policyPort,pfx:i.pfx||this.pfx,key:i.key||this.key,passphrase:i.passphrase||this.passphrase,cert:i.cert||this.cert,ca:i.ca||this.ca,ciphers:i.ciphers||this.ciphers,rejectUnauthorized:i.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:i.perMessageDeflate||this.perMessageDeflate,extraHeaders:i.extraHeaders||this.extraHeaders,forceNode:i.forceNode||this.forceNode,localAddress:i.localAddress||this.localAddress,requestTimeout:i.requestTimeout||this.requestTimeout,protocols:i.protocols||void 0})},p.prototype.open=function(){var e;if(this.rememberUpgrade&&p.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},p.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},p.prototype.probe=function(e){s('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,i=this;function o(){if(i.onlyBinaryUpgrades){var o=!this.supportsBinary&&i.transport.supportsBinary;r=r||o}r||(s('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(o){if(!r)if("pong"===o.type&&"probe"===o.data){if(s('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;p.priorWebsocketSuccess="websocket"===t.name,s('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){r||"closed"!==i.readyState&&(s("changing transport and sending upgrade packet"),l(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=t.name,i.emit("upgradeError",n)}}))}function n(){r||(r=!0,l(),t.close(),t=null)}function a(r){var o=new Error("probe error: "+r);o.transport=t.name,n(),s('probe transport "%s" failed because of error: %s',e,r),i.emit("upgradeError",o)}function h(){a("transport closed")}function c(){a("socket closed")}function u(e){t&&e.name!==t.name&&(s('"%s" works - aborting "%s"',e.name,t.name),n())}function l(){t.removeListener("open",o),t.removeListener("error",a),t.removeListener("close",h),i.removeListener("close",c),i.removeListener("upgrading",u)}p.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",a),t.once("close",h),this.once("close",c),this.once("upgrading",u),t.open()},p.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},p.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},p.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},p.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},p.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},p.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},p.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},p.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},p.prototype.write=p.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},p.prototype.sendPacket=function(e,t,r,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof r&&(s=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:e,data:t,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}},p.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),s("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function i(){e.once("upgrade",r),e.once("upgradeError",r)}return this},p.prototype.onError=function(e){s("socket error %j",e),p.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},p.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},p.prototype.filterUpgrades=function(e){for(var t=[],r=0,s=e.length;r<s;r++)~i(this.transports,e[r])&&t.push(e[r]);return t};
},{"./transports/index":71,"component-emitter":53,"debug":33,"indexof":57,"engine.io-parser":67,"parseuri":55,"parseqs":59,"./transport":70}],52:[function(require,module,exports) {
module.exports=require("./socket"),module.exports.parser=require("engine.io-parser");
},{"./socket":65,"engine.io-parser":67}],61:[function(require,module,exports) {
function r(r,e){for(var n=[],o=(e=e||0)||0;o<r.length;o++)n[o-e]=r[o];return n}module.exports=r;
},{}],39:[function(require,module,exports) {
function e(e,n,o){return e.on(n,o),{destroy:function(){e.removeListener(n,o)}}}module.exports=e;
},{}],56:[function(require,module,exports) {
var n=[].slice;module.exports=function(r,t){if("string"==typeof t&&(t=r[t]),"function"!=typeof t)throw new Error("bind() requires a function");var o=n.call(arguments,2);return function(){return t.apply(r,o.concat(n.call(arguments)))}};
},{}],29:[function(require,module,exports) {
var t=require("socket.io-parser"),e=require("component-emitter"),i=require("to-array"),s=require("./on"),n=require("component-bind"),o=require("debug")("socket.io-client:socket"),c=require("parseqs"),r=require("has-binary2");module.exports=exports=a;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=e.prototype.emit;function a(t,e,i){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.query&&(this.query=i.query),this.io.autoConnect&&this.open()}e(a.prototype),a.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",n(this,"onopen")),s(t,"packet",n(this,"onpacket")),s(t,"close",n(this,"onclose"))]}},a.prototype.open=a.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},a.prototype.send=function(){var t=i(arguments);return t.unshift("message"),this.emit.apply(this,t),this},a.prototype.emit=function(e){if(h.hasOwnProperty(e))return p.apply(this,arguments),this;var s=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:r(s))?t.BINARY_EVENT:t.EVENT,data:s,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof s[s.length-1]&&(o("emitting packet with ack id %d",this.ids),this.acks[this.ids]=s.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},a.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},a.prototype.onopen=function(){if(o("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;o("sending connect packet with query %s",e),this.packet({type:t.CONNECT,query:e})}else this.packet({type:t.CONNECT})},a.prototype.onclose=function(t){o("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},a.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case t.CONNECT:this.onconnect();break;case t.EVENT:case t.BINARY_EVENT:this.onevent(e);break;case t.ACK:case t.BINARY_ACK:this.onack(e);break;case t.DISCONNECT:this.ondisconnect();break;case t.ERROR:this.emit("error",e.data)}},a.prototype.onevent=function(t){var e=t.data||[];o("emitting event %j",e),null!=t.id&&(o("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},a.prototype.ack=function(e){var s=this,n=!1;return function(){if(!n){n=!0;var c=i(arguments);o("sending ack %j",c),s.packet({type:r(c)?t.BINARY_ACK:t.ACK,id:e,data:c})}}},a.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(o("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):o("bad ack %s",t.id)},a.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},a.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},a.prototype.ondisconnect=function(){o("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},a.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},a.prototype.close=a.prototype.disconnect=function(){return this.connected&&(o("performing disconnect (%s)",this.nsp),this.packet({type:t.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},a.prototype.compress=function(t){return this.flags.compress=t,this},a.prototype.binary=function(t){return this.flags.binary=t,this};
},{"socket.io-parser":35,"component-emitter":53,"to-array":61,"./on":39,"component-bind":56,"debug":33,"parseqs":59,"has-binary2":62}],58:[function(require,module,exports) {
function t(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}module.exports=t,t.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),o=Math.floor(i*this.jitter*t);t=0==(1&Math.floor(10*i))?t-o:t+o}return 0|Math.min(t,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(t){this.ms=t},t.prototype.setMax=function(t){this.max=t},t.prototype.setJitter=function(t){this.jitter=t};
},{}],28:[function(require,module,exports) {
var t=require("engine.io-client"),e=require("./socket"),n=require("component-emitter"),o=require("socket.io-parser"),i=require("./on"),s=require("component-bind"),c=require("debug")("socket.io-client:manager"),r=require("indexof"),h=require("backo2"),a=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}module.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)a.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)a.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},n(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,n){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=t(this.uri,this.opts);var o=this.engine,s=this;this.readyState="opening",this.skipReconnect=!1;var r=i(o,"open",function(){s.onopen(),e&&e()}),h=i(o,"error",function(t){if(c("connect_error"),s.cleanup(),s.readyState="closed",s.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else s.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;c("connect attempt will timeout after %d",a);var p=setTimeout(function(){c("connect attempt timed out after %d",a),r.destroy(),o.close(),o.emit("error","timeout"),s.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(p)}})}return this.subs.push(r),this.subs.push(h),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(i(t,"data",s(this,"ondata"))),this.subs.push(i(t,"ping",s(this,"onping"))),this.subs.push(i(t,"pong",s(this,"onpong"))),this.subs.push(i(t,"error",s(this,"onerror"))),this.subs.push(i(t,"close",s(this,"onclose"))),this.subs.push(i(this.decoder,"decoded",s(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,n){var o=this.nsps[t];if(!o){o=new e(this,t,n),this.nsps[t]=o;var i=this;o.on("connecting",s),o.on("connect",function(){o.id=i.generateId(t)}),this.autoConnect&&s()}function s(){~r(i.connecting,o)||i.connecting.push(o)}return o},p.prototype.destroy=function(t){var e=r(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var o=0;o<n.length;o++)e.engine.write(n[o],t.options);e.encoding=!1,e.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)};
},{"engine.io-client":52,"./socket":29,"component-emitter":53,"socket.io-parser":35,"./on":39,"component-bind":56,"debug":33,"indexof":57,"backo2":58}],22:[function(require,module,exports) {
var e=require("./url"),r=require("socket.io-parser"),o=require("./manager"),t=require("debug")("socket.io-client");module.exports=exports=n;var c=exports.managers={};function n(r,n){"object"==typeof r&&(n=r,r=void 0),n=n||{};var s,i=e(r),u=i.source,a=i.id,p=i.path,q=c[a]&&p in c[a].nsps;return n.forceNew||n["force new connection"]||!1===n.multiplex||q?(t("ignoring socket cache for %s",u),s=o(u,n)):(c[a]||(t("new io instance for %s",u),c[a]=o(u,n)),s=c[a]),i.query&&!n.query&&(n.query=i.query),s.socket(i.path,n)}exports.protocol=r.protocol,exports.connect=n,exports.Manager=require("./manager"),exports.Socket=require("./socket");
},{"./url":27,"socket.io-parser":35,"./manager":28,"debug":33,"./socket":29}],8:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@feathersjs/feathers"),t=s(e),r=require("@feathersjs/socketio-client"),o=s(r),a=require("@feathersjs/authentication-client"),u=s(a),i=require("socket.io-client"),l=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var f=void 0;f="localhost"===window.location.hostname?(0,l.default)("localhost:3030"):(0,l.default)();var c=(0,t.default)();c.configure((0,o.default)(f)),c.configure((0,u.default)()),exports.default=c;
},{"@feathersjs/feathers":14,"@feathersjs/socketio-client":20,"@feathersjs/authentication-client":21,"socket.io-client":22}],2:[function(require,module,exports) {
"use strict";var e=require("hyperapp"),r=require("/src/components/Root"),s=require("/src/actions"),t=require("/src/listeners"),u=require("@hyperapp/router"),o=require("/src/state"),c=require("/src/server"),i=a(c);function a(e){return e&&e.__esModule?e:{default:e}}require("./css/base.css");var n=(0,s.setupActions)(i.default),p=(0,e.app)(o.state,n,r.Root,document.body);d(p),(0,t.setupListeners)(i.default,p);var q=u.location.subscribe(p.location);function d(e){e.getProducts()}
},{"hyperapp":11,"/src/components/Root":4,"/src/actions":5,"/src/listeners":6,"@hyperapp/router":12,"/src/state":7,"/src/server":8,"./css/base.css":98}]},{},[2])
//# sourceMappingURL=/app.7d2798ac.map